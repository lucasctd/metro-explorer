{"version":3,"names":[],"mappings":"","sources":["explorer.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\r\n * Created by lucas on 11/2/2016.\r\n */\n\nrequire('./resources/assets/js/jquery-ui-1.11.4.min.js');\n\nvar Explorer = require('./resources/assets/js/explorer.js');\nvar ExUpload = require('./resources/assets/extensions/ExUpload/exUpload.js');\nvar File = require('./resources/assets/js/file.js');\n\nmodule.exports = { Explorer: Explorer, ExUpload: ExUpload, File: File };\n\n},{\"./resources/assets/extensions/ExUpload/exUpload.js\":2,\"./resources/assets/js/explorer.js\":3,\"./resources/assets/js/file.js\":4,\"./resources/assets/js/jquery-ui-1.11.4.min.js\":5}],2:[function(require,module,exports){\n\"use strict\";\n\nvar ExUpload = function ExUpload(explorer, url, params) {\n    \"use strict\";\n\n    var exUpload = {\n        explorerContainer: null,\n        useAutomaticId: false,\n        url: url,\n        params: params,\n        debugMode: false,\n        callback: undefined,\n        explorer: explorer,\n        allowedExtensions: undefined,\n        enabled: true,\n        MSG_EXUPLOAD_NOT_ENABLED: \"ExUpload is not enabled, thus, you can't upload any file right now.\",\n        MSG_INVALID_FILE: \"{ext} files are not allowed.\",\n        ERROR_INVALID_FILE: 1,\n        ERROR_NO_ID_FOUND: 2,\n        ERROR_EXUPLOAD_NOT_ENABLED: 3,\n        start: function start() {\n            try {\n                exUpload.validate();\n                exUpload.explorerContainer = exUpload.explorer.container;\n                exUpload.handleEvents();\n                exUpload.explorer.exUpload = exUpload;\n            } catch (e) {\n                exUpload.log(e);\n            }\n        },\n        validate: function validate() {\n            if (exUpload.params === undefined) {\n                exUpload.params = { \"fileParam\": \"file\" };\n                exUpload.info(\"uploadParam was not defined, so its default value ('file') will be set.\");\n            }\n            if (exUpload.params.fileParam === undefined) {\n                exUpload.params.fileParam = \"file\";\n                exUpload.info(\"uploadParam was not defined, so its default value ('file') will be set.\");\n            }\n            if (exUpload.explorer === undefined || exUpload.explorer.ROOT === undefined) {\n                throw \"ExUpload will not work if you do not set Explorer's instance.\";\n            }\n            if (exUpload.url === undefined) {\n                throw \"ExUpload will not work if you do not set an url.\";\n            }\n        },\n        log: function log(str) {\n            if (exUpload.debugMode) {\n                console.warn(str);\n            }\n        },\n        info: function info(str) {\n            if (exUpload.debugMode) {\n                console.info(str);\n            }\n        },\n        validadeExtension: function validadeExtension(ext) {\n            if (exUpload.allowedExtensions !== undefined) {\n                return exUpload.allowedExtensions.indexOf(ext.toLowerCase()) != -1;\n            }\n            var extIndex = AVAILABLE_ICON_EXTENSIONS.indexOf(ext.toLowerCase());\n            if (extIndex == -1 && AVAILABLE_ICON_EXTENSIONS.indexOf(\"_\".concat(ext.toLowerCase())) == -1) {\n                return false;\n            }\n            return true;\n        },\n        handleEvents: function handleEvents() {\n            var dropArea = document.getElementById(exUpload.explorerContainer.substring(1));\n            dropArea.addEventListener('dragenter', function (e) {\n                e.currentTarget.classList.add('drop');\n            });\n            dropArea.addEventListener('dragleave', function (e) {\n                e.currentTarget.classList.remove('drop');\n            });\n            dropArea.addEventListener('dragover', function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                e.dataTransfer.dropEffect = 'copy';\n            });\n            dropArea.addEventListener('drop', function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                var file = e.dataTransfer.files[0]; //file to upload\n                exUpload.upload(file);\n            });\n        },\n        beforeSend: function beforeSend(xhr) {},\n        upload: function upload(file) {\n            var ext = file.name.substr(file.name.lastIndexOf('.') + 1);\n            var fakeId = exUpload.generateFakeId();\n            var fakeFile = new File(fakeId, file.name, ext, exUpload.explorer.currentParent == -1 ? 0 : exUpload.explorer.currentParent);\n            var uploader = new exUpload.Uploader(file, fakeFile);\n            if (!this.enabled) {\n                var msg = { message: exUpload.MSG_EXUPLOAD_NOT_ENABLED, error: exUpload.ERROR_EXUPLOAD_NOT_ENABLED };\n                uploader.createProgressStructure(fakeFile.id, true);\n                exUpload.error(msg, fakeFile);\n                return;\n            }\n            if (exUpload.validadeExtension(fakeFile.ext) === false) {\n                var msg = { message: exUpload.MSG_INVALID_FILE.replace(\"{ext}\", \".\" + ext), error: exUpload.ERROR_INVALID_FILE };\n                uploader.createProgressStructure(fakeFile.id, true);\n                exUpload.error(msg, fakeFile);\n            } else {\n                exUpload.explorer.addFiles(fakeFile); // adding the file to Explorer\n                uploader.fileIndex = exUpload.explorer.checkIfExists(fakeFile.id);\n                uploader.upload();\n            }\n        },\n        generateFakeId: function generateFakeId() {\n            var num = 100;\n            var fakeId = \"fake\" + num;\n            while (exUpload.explorer.checkIfExists(fakeId) != -1) {\n                fakeId = \"fake\" + ++num;\n            }return fakeId;\n        },\n        error: function error(msg, fakeFile) {\n            var errorStyle = $(\"#\" + fakeFile.id).find(\".errorStyle\");\n            var item = $(\"#\" + fakeFile.id);\n            item.find(\".exUpload\").fadeOut(\"fast\");\n            item.find(\".abortStyle\").fadeOut(\"fast\");\n            errorStyle.fadeIn(\"slow\");\n            errorStyle.on(\"mouseover\", function () {\n                errorStyle.css(\"cursor\", \"pointer\");\n                errorStyle.prop(\"title\", \"Click to Hide\");\n                item.find(\".errorFont\").text(\"Remove?\");\n            }).on(\"mouseout\", function () {\n                item.find(\".errorFont\").text(\"Upload has Failed!\");\n            }).on(\"mousedown\", function () {\n                item.fadeOut(\"slow\", function () {\n                    var field = exUpload.explorer.getFileById(fakeFile.id).field;\n                    var list = exUpload.explorer.fields.fieldList[field].filesOn;\n                    exUpload.explorer.fields.fieldList[field].filesOn = $.grep(list, function (val) {\n                        return val != fakeFile.id; //remove file from field\n                    });\n                    if (exUpload.explorer.fields.fieldList[field].filesOn.length === 0) {\n                        exUpload.explorer.fields.usedFields -= 1;\n                    }\n                    exUpload.explorer.fileList = $.grep(exUpload.explorer.fileList, function (val, i) {\n                        return val.id != fakeFile.id; //remove file from list\n                    });\n                    $(this).remove();\n                });\n            });\n            if (exUpload.callback !== undefined) {\n                exUpload.callback(msg, false);\n            }\n            exUpload.log(msg);\n        },\n        Uploader: function Uploader(file, fakeFile) {\n            var object = {\n                fakeFile: fakeFile,\n                file: file,\n                fileIndex: null,\n                myXhr: undefined,\n                upload: function upload() {\n                    //var XHR = new window.XMLHttpRequest();\n                    var formData = new FormData();\n                    formData.append(exUpload.params.fileParam, object.file);\n                    formData.append(\"dirId\", exUpload.explorer.currentParent);\n                    // delete exUpload.params.fileParam;\n                    for (var paramName in exUpload.params) {\n                        if (paramName == \"fileParam\") {\n                            continue;\n                        }\n                        formData.append(paramName, exUpload.params[paramName]);\n                    }\n                    $.ajax({\n                        url: exUpload.url, //Server script to process data\n                        type: 'POST',\n                        xhr: function xhr() {\n                            // Custom XMLHttpRequest\n                            object.myXhr = $.ajaxSettings.xhr();\n                            if (object.myXhr.upload) {\n                                // Check if upload property exists\n                                object.myXhr.upload.addEventListener('progress', object.progressEvent, false); // For handling the progress of the upload\n                            }\n                            return object.myXhr;\n                        },\n                        beforeSend: function beforeSend(xhr) {\n                            exUpload.beforeSend(xhr);\n                            //it will be usefull to restore file state\n                            object.updateFileState(true, 0, false, 0);\n                            object.fakeFile.date = Math.round(new Date() / 1000);\n                            exUpload.explorer.fileList[object.fileIndex].uploader = object;\n                        },\n                        success: function success(data) {\n                            //retorno do servidor\n                            var def = $.Deferred();\n                            var fakeFileIndex = exUpload.explorer.checkIfExists(object.fakeFile.id);\n                            if (data.id !== undefined && data.id !== null) {\n                                //caso o servidor tenha retornado o id do arquivo upado\n                                //altera o id fake para o id retornado do banco no html e na lista de Explorer\n                                var fakeId = object.fakeFile.id;\n                                $(\"#\" + fakeId).find(\"#selec_id\".concat(fakeId)).attr(\"id\", \"selec_id\".concat(data.id));\n                                $(\"#\" + fakeId).attr(\"id\", data.id);\n                                exUpload.explorer.fileList[fakeFileIndex].id = data.id;\n                            } else if (exUpload.useAutomaticId) {\n                                data.id = object.fakeFile.id;\n                            } else {\n                                var msg = { messages: \"Your server did not return any ID, not did you enable the use of automatic id (exUpload.useAutomaticId).\", error: exUpload.ERROR_NO_ID_FOUND };\n                                if (exUpload.callback !== undefined) {\n                                    exUpload.callback(msg, false);\n                                }\n                                this.error(msg, object.fakeFile);\n                                return;\n                            }\n                            object.updateFileState(false, 100, false);\n                            def.resolve();\n                            $.when(def).then(function () {\n                                var item = $(\"#\" + data.id);\n                                item.find(\".abortStyle\").unbind(\"mouseover\");\n                                item.find(\".abortStyle\").css(\"display\", \"none\");\n                                item.removeClass(\"uploading\");\n                                setTimeout(function () {\n                                    item.find(\".exUpload\").fadeOut(\"slow\");\n                                }, 2000);\n                                if (exUpload.callback !== undefined) {\n                                    exUpload.callback(data, true);\n                                }\n                            });\n                        },\n                        error: function error(e) {\n                            exUpload.error(e, object.fakeFile);\n                        },\n                        data: formData,\n                        //Options to tell jQuery not to process data or worry about content-type.\n                        cache: false,\n                        contentType: false,\n                        processData: false,\n                        dataType: 'json'\n                    });\n                },\n                createProgressStructure: function createProgressStructure(id, invalidExtension) {\n                    var resizeInterval = null;\n                    var item = { id: $(\"#\" + id), abortStyle: null };\n                    var hide = invalidExtension === true || exUpload.explorer.fileList[object.fileIndex].uploadFailed === true || exUpload.explorer.fileList[object.fileIndex].uploading === false ? \" displayNone \" : \"\";\n                    if (!item.id.hasClass(\"uploading\")) {\n                        item.id.addClass(\"uploading\");\n                    }\n                    if (!item.id.find(\"#progressBar\").length) {\n                        item.id.append('<div id=\"progressBar\" class=\"progressBar exUpload' + hide + '\"></div>' + '<div id=\"errorStyle\" class=\"errorStyle\"><p class=\"errorFont\">Upload has Failed</p></div>' + '<div id=\"abortStyle\" class=\"abortStyle' + hide + '\"><p class=\"abortFont\">Abort?</p></div>' + '<div style=\"position:absolute; left:50%; top:0;\" class=\"exUpload' + hide + '\">' + '<div class=\"percentCounterContainer' + hide + '\">' + '<span class=\"percentConcluido\" ></span>' + '</div>' + '<span class=\"uploadSpeed' + hide + '\">0 Kbps</span>' + '</div>');\n                        item.abortStyle = $(\"#\" + id).find(\".abortStyle\");\n                        item.abortStyle.find(\"p\").prop(\"title\", \"Abort the upload of \" + this.file.name);\n                        item.abortStyle.find(\".abortFont\").on(\"click\", function () {\n                            item.abortStyle.unbind(\"mouseover\");\n                            item.abortStyle.css(\"display\", \"none\");\n                            object.myXhr.abort();\n                            exUpload.explorer.fileList[object.fileIndex].uploadFailed = true; //update file state\n                        });\n                        item.abortStyle.on(\"mouseover\", function () {\n                            item.abortStyle.css(\"opacity\", 0.8);\n                        });\n                        item.abortStyle.on(\"mouseout\", function () {\n                            item.abortStyle.css(\"opacity\", 0);\n                        });\n                        $(window).resize(function () {\n                            clearTimeout(resizeInterval); //little trick to resize Explorer only after resizing get done.\n                            resizeInterval = setTimeout(function () {\n                                object.progressEvent({ lengthComputable: null }, true);\n                            }, 5);\n                            //object.progressEvent({lengthComputable: null}, true);\n                        });\n                    }\n                },\n                progressEvent: function progressEvent(e, resizing) {\n                    if (e.lengthComputable || resizing) {\n                        var item = $(\"#\" + object.fakeFile.id);\n                        var percentLoaded = null,\n                            speed = null;\n                        var spentTime = Math.round(new Date() / 1000) - object.fakeFile.date;\n                        object.createProgressStructure(object.fakeFile.id);\n                        if (resizing) {\n                            percentLoaded = exUpload.explorer.fileList[object.fileIndex].progress;\n                            speed = exUpload.explorer.fileList[object.fileIndex].speed;\n                            if (exUpload.explorer.fileList[object.fileIndex].uploadFailed) {\n                                item.abortStyle = $(\"#\" + object.fakeFile.id).find(\".abortStyle\");\n                                item.abortStyle.unbind(\"mouseover\");\n                                item.abortStyle.css(\"display\", \"none\");\n                                exUpload.error(\"error\", object.fakeFile);\n                            }\n                        } else {\n                            speed = Math.floor(e.loaded / 1024 / spentTime);\n                            percentLoaded = Math.round(e.loaded * 100 / e.total);\n                        }\n                        if (percentLoaded >= 100) {\n                            item.find(\".uploadSpeed\").css(\"color\", \"white\");\n                            item.removeClass(\"uploading\");\n                        } else if (percentLoaded >= 50) {\n                            item.find(\".percentCounterContainer\").css(\"color\", \"white\");\n                        } else if (percentLoaded >= 10) {\n                            item.find(\".uploadSpeed\").css(\"color\", \"white\");\n                        }\n                        object.updateFileState(percentLoaded != 100, percentLoaded, null, speed);\n                        item.find(\".percentConcluido\").html(percentLoaded + \"<span class=\\\"percentSymbol\\\">%</span>\");\n                        item.find(\".progressBar\").css(\"height\", percentLoaded + \"%\");\n                        item.find(\".uploadSpeed\").html(\"^ \" + speed + \" Kbps\");\n                    }\n                },\n                updateFileState: function updateFileState(uploading, progress, uploadFailed, speed) {\n                    if (notNull(uploading)) {\n                        exUpload.explorer.fileList[object.fileIndex].uploading = uploading;\n                    }\n                    if (notNull(uploadFailed)) {\n                        exUpload.explorer.fileList[object.fileIndex].uploadFailed = uploadFailed;\n                    }\n                    if (notNull(progress)) {\n                        exUpload.explorer.fileList[object.fileIndex].progress = progress;\n                    }\n                    if (notNull(progress)) {\n                        exUpload.explorer.fileList[object.fileIndex].speed = speed;\n                    }\n                }\n            };\n            return object;\n        }\n    };\n    return exUpload;\n};\nmodule.exports = ExUpload;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _file4 = require(\"./file.js\");\n\nvar _file5 = _interopRequireDefault(_file4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//METRO-EXPLORER_CODE\nvar Explorer = function Explorer(width, height, container, position, fileList) {\n    \"use strict\";\n\n    var explorer = {\n        POSITION_LEFT: 1,\n        POSITION_CENTER: 2,\n        POSITION_RIGHT: 3,\n        LANG_LBL_NEW_FOLDER: \"New Folder\",\n        LANG_LBL_UPLOAD: \"Upload a File\",\n        LANG_LBL_MOVE: \"Move to\",\n        LANG_LBL_MOVE_ALL: \"Move All to\",\n        LANG_LBL_DEL: \"Delete\",\n        LANG_LBL_DEL_ALL: \"Delete All\",\n        LANG_LBL_SHARE: \"Share\",\n        LANG_LBL_SHARE_ALL: \"Share All\",\n        LANG_LBL_DOWNLOAD: \"Download\",\n        LANG_LBL_DOWNLOAD_ALL: \"Download All\",\n        LANG_LBL_OPEN: \"Open\",\n        LANG_LBL_RENAME: \"Rename\",\n        LANG_LBL_UP: \"Up\",\n        LANG_LBL_MOVE_HEADER: \"Which folder would like to move your files to?\",\n        LANG_LBL_MOVE_BT_MOVE: \"Move\",\n        LANG_LBL_MOVE_BT_MOVE_TITLE: \"It will move your file(s)/folder(s) to the selected folder.\",\n        LANG_LBL_MOVE_FOLDER_ERROR_MSG: \"You cannot move {folderName} to its sub folder.\",\n        LANG_LBL_NEW_FOLDER_HEADER: \"Create a new Folder\",\n        LANG_LBL_NEW_FOLDER_FOLDER_NAME: \"Folder:\",\n        LANG_LBL_NEW_FOLDER_BT_CREATE: \"Create\",\n        LANG_LBL_ROOT_FOLDER: \"Root\",\n        LANG_LBL_EMPTY_MESSAGE: \"Drag and drop a file over here to start uploading. :)\",\n        LANG_LBL_NO_FOLDERS_FOUND: \"There are no folders where you can move your files to. :/\",\n        TEMP_VAR: undefined,\n        EVENT_DROP: 1, EVENT_RENAME: 2,\n        ENABLED: 0, HIDDEN: 1, DISABLED: 2,\n        CONTEXT_MENU_OPTIONS: { DOWNLOAD: 0, DOWNLOAD_ALL: 0, UPLOAD: 0, UPLOAD_ALL: 0, MOVE: 0, MOVE_ALL: 0,\n            DELETE: 0, DELETE_ALL: 0, SHARE: 0, SHARE_ALL: 0, RENAME: 0, NEW_FOLDER: 0, OPEN: 0 },\n        DOWNLOAD: 0, DOWNLOAD_ALL: 1, UPLOAD: 2, UPLOAD_ALL: 3, MOVE: 4, MOVEL_ALL: 5, DELETE: 6, DELETE_ALL: 7,\n        SHARE: 8, SHARE_ALL: 9, RENAME: 10, NEW_FOLDER: 11, OPEN: 12,\n        ROOT: 0,\n        GO_UP_ID: -1,\n        baseDialogEffect: \"fade\",\n        debugMode: false,\n        container: container === undefined ? \"#explorerContainer\" : container,\n        element: \"#explorer\",\n        fields: { \"fieldList\": [], \"usedFields\": 0 },\n        width: width === undefined ? 800 : width,\n        height: height === undefined ? 600 : height,\n        position: position === undefined ? 2 : position, //center, by default\n        cssPosition: \"relative\",\n        fileList: fileList === undefined ? [] : fileList,\n        fileUpdateEvent: \"fileUpdateEvent\",\n        border: \"0px solid gray\",\n        language: undefined,\n        currentPath: [],\n        top: 0,\n        left: 0,\n        selectedFiles: [],\n        started: false,\n        browserContextMenuDisabled: true, //Browser Context Menu must be disabled to make everything works fine\n        currentParent: 0,\n        availableIconExtensions: null,\n        iconsBackgroundColor: \"#00ABA9\",\n        baseDialogId: \".baseDialog\",\n        iconPaths: [],\n        preloadIcons: true,\n        multiSelect: true,\n        exUpload: null,\n        customOptionId: 0,\n        closeBaseDialogOnEsc: true,\n        styleFile: null,\n        explorerRootFolder: null,\n        addFiles: function addFiles(param, resize, def) {\n            if (!window.AVAILABLE_ICON_EXTENSIONS) {\n                window.AVAILABLE_ICON_EXTENSIONS = explorer.getAvailableIconExtensions();\n            }\n            var listfilesWithField = [],\n                listfilesWithoutAField = [];\n            if ($(\"#emptyMessage\").length) {\n                $(\"#emptyMessage\").fadeOut(\"fast\");\n            }\n            if (param === undefined) {\n                explorer.log(\"You are passing an undefined parameter to addFiles()\");\n                return;\n            }\n            if ($.isArray(param)) {\n                $.each(param, function (i, file) {\n                    explorer.addFiles(file);\n                });\n                return;\n            }\n            if (explorer.checkIfContainerExist() === false) {\n                return;\n            }\n            if (!explorer.started) {\n                $(explorer.element).css(\"display\", \"none\");\n            }\n            if ($.isNumeric(param)) {\n                //if it is going to open a folder\n                var parentId = param;\n                if (explorer.currentParent == parentId && resize !== true) {\n                    return;\n                }\n                explorer.fields.fieldList = [];\n                explorer.fields.usedFields = 0;\n                //console.log($(\".file, .field\"));\n                $(explorer.element).find(\".file, .field\").remove();\n                explorer.currentParent = parentId;\n                explorer.createQuickFolderAccess(parentId);\n                if (parentId !== 0) {\n                    //if it is not the root, create a link to go back to its parent\n                    explorer.createUpButton(parentId);\n                }\n            } else {\n                //if it is an object\n                var file = param;\n                var index = explorer.checkIfExists(file.id);\n                if (index != -1 && file.found === undefined) {\n                    //&& explorer.fileList[index].name != file.name){\n                    explorer.log(\"Explorer already has a file/folder with this id (\" + file.id + \"). '\" + file.name + \"' will not be added to the fileList.\");\n                    return;\n                } else if (index == -1) {\n                    //add to fileList\n                    explorer.fileList.push(file);\n                }\n                if (file.found !== undefined) {\n                    explorer.createFieldsIfNecessary(file);\n                    explorer.placeFileAutomatically(file);\n                    return;\n                }\n            }\n\n            $.each(explorer.fileList, function (i, file) {\n                var index = explorer.checkIfExists(file.id);\n                if (file.parent != explorer.currentParent) {\n                    //If it is not in the same folder that the file was uploaded to,\n                    // do not show it on the screen\n                    explorer.fileList[index].placed = false;\n                    return;\n                }\n                if (file.placed && resize !== true) {\n                    return;\n                }\n                explorer.createFieldsIfNecessary(file);\n                if (explorer.fields.fieldList[file.field] === undefined && file.field != -1) {\n                    explorer.log(file.name + \"'s field does not exist. It will be placed on an existing free field. \" + \"Make sure you are running createFields(number_of_fields); with enough number of fields to place '\" + file.name + \"' on.\");\n                }\n                if (file.field != -1) {\n                    //load files on each list\n                    listfilesWithField.push(file);\n                } else {\n                    listfilesWithoutAField.push(file);\n                }\n                // if(file.field !== undefined && file.field != -1 && explorer.fields.fieldList[file.field] !== undefined){\n\n                //  }else{\n                //      explorer.placeFileAutomatically(file);\n                //  }\n                index = explorer.checkIfExists(file.id);\n                explorer.fileList[index].placed = true; //field's index\n                if (explorer.fileList[index].uploading === true) {\n                    explorer.fileList[index].uploader.fileIndex = index;\n                    explorer.fileList[index].uploader.createProgressStructure(file.id);\n                    explorer.fileList[index].uploader.progressEvent({ lengthComputable: null }, true);\n                }\n            });\n            $.each(listfilesWithField, function (i, file) {\n                //first load files that already have a field\n                explorer.placeFileWithField(file, resize);\n            });\n            $.each(listfilesWithoutAField, function (i, file) {\n                //then, load files which does not have a field (-1)\n                explorer.placeFileAutomatically(file);\n            });\n            explorer.initMouseOverEvent();\n            if (def !== undefined) {\n                def.resolve();\n            }\n        },\n        placeFileWithField: function placeFileWithField(file, resize) {\n            var top = explorer.fields.fieldList[file.field].top + 5 + \"px;\";\n            var left = explorer.fields.fieldList[file.field].left + 5 + \"px;\";\n            $(explorer.element).append(\"<div id='\" + file.id + \"' class='file fileButton draggable displayNone' style='position: absolute; top:\" + top + \"left:\" + left + \"'> <div class='center iconBorder'><div class='\" + file.getIcon() + \" center'></div></div> \" + \"<div id='input\" + file.id + \"' style='display:inline-block; position:relative;' title='\" + file.name + \"'> \" + \"<input class='txtcenter ft11 inputFileName'\" + \"maxlength='30' readonly='readonly' title='\" + file.name + \"' value='\" + file.getName().replace(/'/g, \"&apos;\") + \"'/>\" + \"<div style='position:absolute; left:0; right:0; top:0; bottom:0;'></div></div> <div id='selec_id\" + file.id + \"' class='opacity4'> </div> <div class=\\\"moveToTooltip\\\">Move to</div>\" + \"</div>\");\n            explorer.fields.fieldList[file.field].filesOn.push(file.id);\n            var field = explorer.fields.fieldList[file.field];\n            file.getElement().css(\"top\", (field.filesOn.length > 1 ? field.top + 5 - (field.filesOn.length - 1) * 3 : field.top + 5) + \"px\");\n            file.getElement().css(\"left\", (field.filesOn.length > 1 ? field.left + 5 + (field.filesOn.length - 1) * 3 : field.left + 5) + \"px\");\n            if (resize === true) {\n                file.getElement().css(\"display\", \"block\");\n            } else {\n                file.getElement().fadeIn(300);\n            }\n            explorer.fields.usedFields++;\n            explorer.loadFileEvents(file);\n        },\n        placeFileAutomatically: function placeFileAutomatically(file, resize) {\n            for (var x = 0; x < explorer.fields.fieldList.length; x++) {\n                if (explorer.fields.fieldList[x].filesOn.length === 0) {\n                    var top = explorer.fields.fieldList[x].top + 5 + \"px;\";\n                    var left = explorer.fields.fieldList[x].left + 5 + \"px;\";\n                    $(explorer.element).append(\"<div id='\" + file.id + \"' class='file fileButton draggable displayNone' style='position: absolute; top:\" + top + \"left:\" + left + \"'> <div class='center iconBorder'><div class='\" + file.getIcon() + \" center'></div></div>\" + \"<div id='input\" + file.id + \"' style='display:inline-block; position:relative;' title='\" + file.name + \"'> \" + \"<input class='txtcenter ft11 inputFileName' \" + \"maxlength='30' readonly='readonly' title='\" + file.name + \"' value='\" + file.getName().replace(/'/g, \"&apos;\") + \"' />\" + \"<div style='position:absolute; left:0; right:0; top:0; bottom:0;'></div></div> <div id='selec_id\" + file.id + \"' class='opacity4'> </div> <div class=\\\"moveToTooltip\\\">Move to</div>\" + \"</div>\");\n                    if (resize === true) {\n                        file.getElement().css(\"display\", \"block\");\n                    } else {\n                        file.getElement().fadeIn(300);\n                    }\n                    explorer.fields.fieldList[x].filesOn.push(file.id);\n                    explorer.fields.usedFields++;\n                    var index = explorer.checkIfExists(file.id);\n                    if (!file.found) {\n                        explorer.fileList[index].field = x; //field's index\n                    }\n                    explorer.loadFileEvents(file);\n                    break;\n                }\n            }\n        },\n        createFieldsIfNecessary: function createFieldsIfNecessary(file) {\n            //add new fields, if necessary\n            if (file.field == -1) {\n                if (explorer.fields.fieldList.length <= explorer.fileList.length) {\n                    explorer.createFields(1);\n                }\n            } else if (file.field > explorer.fields.fieldList.length - 1) {\n                explorer.createFields(file.field - explorer.fields.fieldList.length + 1);\n            }\n            if (explorer.fields.fieldList.length - explorer.fileList.length < 2) {\n                explorer.createFields(1);\n            }\n        },\n        createUpButton: function createUpButton(parentId) {\n            explorer.createFields(1, true);\n            var grandpaId = $.grep(explorer.fileList, function (e) {\n                return e.id == parentId;\n            });\n            $(explorer.element).append(\"<div id='goup' class='file fileButton' style='float:left; top: 5px; left: 5px; position: absolute'>\" + \"<div class='center iconBorder'><div class='goUp center'></div></div><br /><p class='txtcenter ft11'>\" + explorer.LANG_LBL_UP + \"</p></div>\");\n            $(\"#goup\").on(\"click\", function () {\n                $(\".file\").fadeOut(\"slow\");\n                explorer.hide([\".contextMenuFile\", \".contextMenuFolder\", \".contextMenuVoid\"]);\n                setTimeout(function () {\n                    explorer.addFiles(grandpaId[0].parent);\n                }, 200);\n                setTimeout(function () {\n                    $(\".file\").fadeIn(\"fast\");\n                }, 250);\n            });\n        },\n        loadFileEvents: function loadFileEvents(file) {\n            var fileElem = file.getElement();\n            //rename event\n            fileElem.find(\"input\").on(\"blur\", function (e) {\n                explorer.rename(file, true);\n            });\n            //double click event\n            fileElem.dblclick(function () {\n                explorer.dbclick(file);\n            });\n            //Add click event\n            fileElem.on(\"mousedown\", function (e) {\n                $(document).trigger(\"contextMenuEvent\", { event: e, file: file });\n                if (!$(e.target).is('._selected') && e.which == 3 || !explorer.multiSelect) {\n                    //if it was not selected and it is a right click,\n                    explorer.selectedFiles = []; //clean the list to add a new one\n                    $(\"._selected\").removeClass('_selected');\n                    $(\".file\").css(\"border\", \"1px solid darkgray\");\n                }\n                var result = $.grep(explorer.selectedFiles, function (e) {\n                    return e.id == file.id;\n                }); //check if this file is already in the list\n                if (result.length === 0) {\n                    //if not, add it\n                    explorer.selectedFiles.push(file);\n                }\n                if ($(e.currentTarget).hasClass(\"uploading\")) {\n                    //if it is uploading, does not handle any event\n                    return;\n                }\n                if (e.which == 1) {\n                    //check if it is a left click\n                    explorer.hide([\".contextMenuFile\", \".contextMenuFolder\", \"#contextIdTools\"]);\n                    if (!$(e.target).is('._selected') && fileElem.find(\"input\").is('[readonly]') && !$(e.target).is(\".errorStyle, .errorFont\")) {\n                        //if it is not selected, add selected class\n                        fileElem.css(\"border\", \"1px solid blue\");\n                        fileElem.find(\"#selec_id\" + file.id).addClass(\"_selected\");\n                    }\n                } else if (e.which == 3) {\n                    //create a contextMenu\n                    $(\"#contextMenu4Files\").css(\"top\", e.pageY - 5 + \"px\");\n                    $(\"#contextMenu4Files\").css(\"left\", e.pageX - 5 + \"px\");\n                    explorer.showContextMenu(file); //Create a new Context Menu to this file\n                }\n            });\n            explorer.initDraggable();\n        },\n        checkIfExists: function checkIfExists(id) {\n            for (var i = 0; i < explorer.fileList.length; i++) {\n                if (explorer.fileList[i].id == id) {\n                    return i;\n                }\n            }\n            return -1;\n        },\n        createFields: function createFields(numberFields, isGoUp) {\n            var fileDivWidth = 130;\n            var fileDivHeight = 150;\n            var fieldListSize = explorer.fields.fieldList.length;\n            var filePerLine = parseInt(explorer.getExplorerCurrentWidth() / fileDivWidth);\n\n            var _loop = function _loop(x) {\n                // var create = (function () {//necessary to fix js escope problems :/ 'Let' keyword would solve this problem :S\n                var field = new Field(x, $(\"<div id='field_\" + x + \"' class='field' style='top:\" + (parseInt(x / filePerLine) * fileDivHeight + 8) + \"px; left: \" + parseInt(x % filePerLine) * fileDivWidth + \"px;'/>\"), [], parseInt(x / filePerLine) * fileDivHeight, parseInt(x % filePerLine) * fileDivWidth);\n                $(explorer.element).append(field.element);\n                field.element.droppable({\n                    drop: function drop(event, ui) {\n                        field.element.css(\"border-width\", \"0px\");\n                        var file = explorer.getFileById(ui.draggable[0].id);\n                        var topFile = field.filesOn[field.filesOn.length - 1];\n                        file.getElement().find(\".moveToTooltip\").fadeOut();\n                        if (topFile == explorer.GO_UP_ID) {\n                            //move to parent's folder\n                            explorer.selectedFiles = [file];\n                            var parent = explorer.getFileById(explorer.currentParent);\n                            explorer.clientMove(parent.parent, true);\n                            return;\n                        } else {\n                            //move to this folder\n                            topFile = explorer.getFileById(topFile);\n                            if (topFile && topFile.ext == \"dir\" && topFile.id != file.id) {\n                                //move it to this folder\n                                explorer.selectedFiles = [file];\n                                explorer.clientMove(topFile.id);\n                                return;\n                            }\n                        } //if the top file is not a folder, place it on the top\n                        if ($.inArray(file.id, field.filesOn) == -1) {\n                            //do not repeat files on the field...\n                            field.filesOn.push(Number(file.id));\n                            var index = explorer.checkIfExists(file.id);\n                            explorer.fileList[index].field = field.fieldNumber(); //update file field\n                        }\n                        $(field.element).trigger(\"fileUpdateEvent\", [{ \"file\": file }, explorer.EVENT_DROP]); //fire event\n                        file.getElement().animate({ //organize stack of files\n                            left: field.filesOn.length > 1 ? field.left + 5 + (field.filesOn.length - 1) * 3 : field.left + 5,\n                            top: field.filesOn.length > 1 ? field.top + 5 - (field.filesOn.length - 1) * 3 : field.top + 5\n                        }, { //it's an animate's method\n                            start: function start(e) {\n                                $(\"#\" + e.elem.id).css(\"z-index\", field.filesOn.length * 20); //make sure it will be visible\n                            }\n                        }, 300);\n                    },\n                    out: function out(event, ui) {\n                        field.element.css(\"border-width\", \"0px\");\n                        field.filesOn = $.grep(field.filesOn, function (val, index) {\n                            return val != ui.draggable[0].id;\n                        });\n                        if (field.filesOn.length === 0) {\n                            explorer.fields.usedFields -= 1;\n                        }\n                    },\n                    over: function over(event, ui) {\n                        field.element.css(\"border-width\", \"1px\");\n                        var topFile = field.filesOn[field.filesOn.length - 1];\n                        var file = explorer.getFileById(ui.draggable[0].id);\n                        if (topFile == explorer.GO_UP_ID) {\n                            //if it is goUp, do not try to get the most on top file.\n                            var parent = explorer.getFileById(explorer.currentParent);\n                            var parentName = parent.parent == explorer.ROOT ? \"Root\" : explorer.getFileById(parent.parent).name;\n                            //file.getElement().find(\".moveToTooltip\").html(\"<span style='color: #101973'>Move to <b>\"+parent.name+\"</b> parent folder</span> (\".concat(parentName+\")\")).fadeIn();\n                            file.getElement().find(\".moveToTooltip\").html(\"<span style='color: #101973'>Move to \".concat(parentName)).fadeIn();\n                        } else {\n                            topFile = explorer.getFileById(topFile);\n                            if (topFile && topFile.ext == \"dir\" && topFile.id != file.id) {\n                                //if it is a folder\n                                file.getElement().find(\".moveToTooltip\").html(\"<span style='color: #101973'>Move to</span> \".concat(topFile.name)).fadeIn();\n                            } else {\n                                file.getElement().find(\".moveToTooltip\").fadeOut();\n                            }\n                        }\n                    }\n                });\n                explorer.fields.fieldList.push(field);\n                if (isGoUp === true) {\n                    explorer.fields.fieldList[0].filesOn = [explorer.GO_UP_ID];\n                }\n                //});\n                // create();\n            };\n\n            for (var x = fieldListSize; x < fieldListSize + numberFields; x++) {\n                _loop(x);\n            }\n        },\n        getFileById: function getFileById(id) {\n            return explorer.fileList[explorer.checkIfExists(id)];\n        },\n        getSelectedFiles: function getSelectedFiles() {\n            return explorer.selectedFiles;\n        },\n        disableBrowserContextMenu: function disableBrowserContextMenu() {\n            if (explorer.browserContextMenuDisabled) {\n                $(document).ready(function () {\n                    $(document).bind(\"contextmenu\", function (e) {\n                        e.preventDefault();\n                    });\n                });\n            }\n        },\n        initDraggable: function initDraggable() {\n            $(\".draggable\").draggable({\n                cursor: \"move\",\n                revert: \"invalid\",\n                start: function start(event, ui) {\n                    $(\"#\" + ui.helper[0].id).css(\"z-index\", \"9000\");\n                }\n            });\n        },\n        hide: function hide(elements) {\n            $.each(elements, function (i, element) {\n                $(element).css(\"display\", \"none\");\n            });\n        },\n        setExplorerPosition: function setExplorerPosition() {\n            var height = explorer.getExplorerCurrentHeight();\n            var width = explorer.getExplorerCurrentWidth();\n\n            if (explorer.position == explorer.POSITION_CENTER) {\n                var left = $(explorer.container).parent().width() / 2 - width / 2 + explorer.left;\n                left = left < 0 ? 0 : left;\n                $(explorer.container).css(\"left\", left + \"px\");\n                $(explorer.container).css(\"top\", explorer.top + \"px\");\n            } else if (explorer.position == explorer.POSITION_LEFT) {\n                $(explorer.container).css(\"left\", explorer.left + \"px\");\n                $(explorer.container).css(\"top\", explorer.top + \"px\");\n            } else if (explorer.position == explorer.POSITION_RIGHT) {\n                $(explorer.container).css(\"left\", $(explorer.container).parent().width() - width + explorer.left + \"px\");\n                $(explorer.container).css(\"top\", explorer.top + \"px\");\n            }\n            $(explorer.container).css({ \"position\": explorer.cssPosition, \"width\": width + \"px\", \"height\": height + \"px\", \"min-width\": \"150px\", \"min-height\": \"170px\", \"border\": explorer.border });\n            $(explorer.element).css({ \"width\": \"100%\", \"height\": \"90%\", \"overflow-y\": \"auto\", \"overflow-x\": \"hidden\", \"position\": \"relative\" });\n        },\n        getExplorerCurrentHeight: function getExplorerCurrentHeight() {\n            var height = null;\n            if (explorer.height > $(window).height()) {\n                height = $(window).height() - 50;\n                explorer.log(\"The height you have set is higher than screen's height, so we have now set Explorer's height to \" + ($(window).height() - 50));\n            } else {\n                height = explorer.height;\n            }\n            return height;\n        },\n        getExplorerCurrentWidth: function getExplorerCurrentWidth() {\n            //Explorer will have diferent dimension depend on browser window size. To get original size, access it directly (eg. explorer.height)\n            var width = null;\n            if (explorer.width > $(window).width()) {\n                width = $(window).width() - 20;\n                explorer.log(\"The width you have set is larger than screen's width, so we have now set Explorer's width to \" + $(window).width());\n            } else {\n                width = explorer.width;\n            }\n            return width;\n        },\n        createQuickFolderAccess: function createQuickFolderAccess(stopAt) {\n            var currentPath = [];\n            var quickAccess = $(\"#quickAccess\");\n            if (!$(\"#quickAccess\").length) {\n                $(explorer.container).prepend(\"<div id='quickAccess' style='width: auto; height: 20px; position: relative;' style='margin-left: 10px;'></div>\");\n            } else {\n                $(\"#quickAccess\").empty();\n            }\n            $(\"#quickAccess\").append(\"<span id='quick_root' class='text-small bold handCursor quickAccessLink' style='margin-bottom: 10px; margin-left: 10px;'>/ </span>\");\n            $(\"#quick_root\").on(\"click\", function () {\n                explorer.addFiles(0);\n            });\n            $.each(explorer.currentPath, function (i, item) {\n                // for(var item of explorer.currentPath){\n                if (stopAt === 0) {\n                    return false;\n                } else if (item.id != stopAt) {\n                    currentPath.push(item);\n                } else {\n                    currentPath.push(item);\n                    return false;\n                }\n            });\n            $.each(currentPath, function (i, item) {\n                $(\"#quickAccess\").append(\"<span id='quick_\" + item.id + \"'class='text-small bold handCursor quickAccessLink'>\" + item.name + \"/</span> \");\n                $(\"#quick_\" + item.id).on(\"click\", function () {\n                    explorer.addFiles(item.id);\n                });\n            });\n            explorer.currentPath = currentPath;\n        },\n        initContextMenuEvent: function initContextMenuEvent(e) {\n            //create contextMenuVoid\n            $(\"#contextIdTools\").remove();\n            $(\"body\").append(\"<div id='contextIdTools'\" + \"class='opacity9 txtmargin contextMenuVoid gray ft12 bold displayNone'>\" + explorer.loadContextMenuOption(explorer.NEW_FOLDER, explorer.CONTEXT_MENU_OPTIONS.NEW_FOLDER, false) + explorer.loadContextMenuOption(explorer.UPLOAD, explorer.CONTEXT_MENU_OPTIONS.UPLOAD, false) + explorer.customMenuOption() + \"</div>\");\n            $(\"#expNewFolder\").on(\"click\", function () {\n                explorer.newFolder();\n            });\n            $(\"#expUpload\").on(\"click\", function () {\n                explorer.upload();\n            });\n            //If the user clicks on the void\n            $(document).on(\"mousedown\", function (event) {\n                if ($(event.target).is('.field,#explorer,#quickAccess')) {\n                    explorer.hide([\".contextMenuFile\", \".contextMenuFolder\", \".contextMenuVoid\"]);\n                    $(\".file\").css(\"border\", \"1px solid darkgray\");\n                    $(\"._selected\").removeClass(\"_selected\");\n                    explorer.selectedFiles = [];\n                    if (event.which == 3 && ($(event.target).is(explorer.element) || $(event.target).is(\".field\")) && (explorer.CONTEXT_MENU_OPTIONS.NEW_FOLDER != explorer.HIDDEN || explorer.CONTEXT_MENU_OPTIONS.UPLOAD != explorer.HIDDEN)) {\n                        $(\"#contextIdTools\").css(\"top\", event.pageY - 5 + \"px\");\n                        $(\"#contextIdTools\").css(\"left\", event.pageX - 5 + \"px\");\n                        explorer.showContextMenu(\"void\");\n                    }\n                }\n            });\n            $(\".contextMenuOption\").on(\"click\", function () {\n                if (isNotDisabled(this)) {\n                    $(\"#contextIdTools\").fadeOut(\"fast\");\n                }\n            });\n            //create contextMenu for files\n            $(\"body\").append(\"<div id='contextMenu4Files' style='position:absolute;' class='displayNone'> </div>\");\n        },\n        initMouseOverEvent: function initMouseOverEvent() {\n            $(\".fileButton\").mouseover(function (event) {\n                if (document.getElementById(this.id).style.border.indexOf(\"blue\") == -1) {\n                    $(this).css(\"border\", \"1px solid yellow\");\n                }\n            }).mouseout(function () {\n                if (document.getElementById(this.id).style.border.indexOf(\"blue\") == -1) {\n                    $(this).css(\"border\", \"1px solid darkgray\");\n                }\n            });\n        },\n        setLanguage: function setLanguage(language) {\n            this.language = language;\n            this.loadLanguage();\n        },\n        loadLanguage: function loadLanguage() {\n            var patt = /\\.json$/i;\n            var language = explorer.language;\n            if (patt.test(language) === true) {\n                //if it is a json file, load it\n                $.get(language, function (data) {\n                    explorer.LANG_LBL_NEW_FOLDER = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_NEW_FOLDER, explorer.LANG_LBL_NEW_FOLDER);\n                    explorer.LANG_LBL_UPLOAD = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_UPLOAD, explorer.LANG_LBL_UPLOAD);\n                    explorer.LANG_LBL_MOVE = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_MOVE, explorer.LANG_LBL_MOVE);\n                    explorer.LANG_LBL_MOVE_ALL = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_MOVE_ALL, explorer.LANG_LBL_MOVE_ALL);\n                    explorer.LANG_LBL_DEL = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_DEL, explorer.LANG_LBL_DEL);\n                    explorer.LANG_LBL_DEL_ALL = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_DEL_ALL, explorer.LANG_LBL_DEL_ALL);\n                    explorer.LANG_LBL_SHARE = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_SHARE, explorer.LANG_LBL_SHARE);\n                    explorer.LANG_LBL_SHARE_ALL = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_SHARE_ALL, explorer.LANG_LBL_SHARE_ALL);\n                    explorer.LANG_LBL_DOWNLOAD = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_DOWNLOAD, explorer.LANG_LBL_DOWNLOAD);\n                    explorer.LANG_LBL_DOWNLOAD_ALL = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_DOWNLOAD_ALL, explorer.LANG_LBL_DOWNLOAD_ALL);\n                    explorer.LANG_LBL_RENAME = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_RENAME, explorer.LANG_LBL_RENAME);\n                    explorer.LANG_LBL_OPEN = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_OPEN, explorer.LANG_LBL_OPEN);\n                    explorer.LANG_LBL_UP = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_UP, explorer.LANG_LBL_UP);\n                    explorer.LANG_LBL_MOVE_HEADER = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_MOVE_HEADER, explorer.LANG_LBL_MOVE_HEADER);\n                    explorer.LANG_LBL_MOVE_BT_MOVE = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_MOVE_BT_MOVE, explorer.LANG_LBL_MOVE_BT_MOVE);\n                    explorer.LANG_LBL_MOVE_BT_MOVE_TITLE = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_MOVE_BT_MOVE_TITLE, explorer.LANG_LBL_MOVE_BT_MOVE_TITLE);\n                    explorer.LANG_LBL_NEW_FOLDER_HEADER = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_NEW_FOLDER_HEADER, explorer.LANG_LBL_NEW_FOLDER_HEADER);\n                    explorer.LANG_LBL_NEW_FOLDER_FOLDER_NAME = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_NEW_FOLDER_FOLDER_NAME, explorer.LANG_LBL_NEW_FOLDER_FOLDER_NAME);\n                    explorer.LANG_LBL_NEW_FOLDER_BT_CREATE = explorer.loadLanguageCheckIfDefined(data.LANG_LBL_NEW_FOLDER_BT_CREATE, explorer.LANG_LBL_NEW_FOLDER_BT_CREATE);\n                }, \"json\").fail(function () {\n                    explorer.log(\"Looks like '\" + language + \"' does not have a correct json structure or does not exist.\");\n                    explorer.log(\"Default language, English, will be loaded.\");\n                }).always(function () {\n                    explorer.initContextMenuEvent();\n                });\n            } else {\n                explorer.log(explorer.language + \" is not a .json file.\");\n                explorer.log(\"Default language, English, will be loaded.\");\n                explorer.initContextMenuEvent();\n            }\n        },\n        loadLanguageCheckIfDefined: function loadLanguageCheckIfDefined(customLabel, defaultLabel) {\n            return customLabel !== undefined ? customLabel : defaultLabel;\n        },\n        createExplorer: function createExplorer() {\n            $(\"body\").prepend(\"<div id='\" + explorer.container.substr(1) + \"'> </div>\");\n        },\n        checkIfContainerExist: function checkIfContainerExist() {\n            if (!$(explorer.container).length) {\n                explorer.log(explorer.container + \"'s <div> does not exist. You must either create the element that Explorer will use to create its structure, for\" + \" example: <div id='explorerContainer' /> or just run explorer.createExplorer();\" + \" right after you have instantiated explorer, and it will be build between your <body> tags. Explorer will not work without it.\");\n                return false;\n            }\n            if (!$(explorer.element).length) {\n                $(explorer.container).append(\"<div id='\" + explorer.element.substr(1) + \"'></div>\");\n            }\n            return true;\n        },\n        start: function start() {\n            var that = this;\n            var defLang = $.Deferred();\n            explorer.loadExplorerRootFolder(defLang);\n            $.when(defLang).then(function () {\n                //setting default language\n                that.language = that.language === undefined ? that.getExplorerRootFolder() + \"/lang/en-US.json\" : that.language;\n                that.loadLanguage();\n            });\n            var resizeId = null,\n                preload = null;\n            if (explorer.checkIfContainerExist() === false) {\n                return;\n            }\n            window.AVAILABLE_ICON_EXTENSIONS = explorer.getAvailableIconExtensions();\n            if (window.AVAILABLE_ICON_EXTENSIONS === null) {\n                explorer.log(\"It looks like you have not include 'explorer.css' on your html document. Explorer will not start without it. :/\");\n                return null;\n            }\n            if (typeof Preload != \"undefined\") {\n                if (this.preloadIcons) {\n                    preload = new Preload(explorer.iconPaths, LoadType.ASYNC).run();\n                }\n            } else {\n                explorer.log(\"Looks like you have not include Preload class. Thus, icons preload will not be done.\");\n            }\n            // preload.run();\n            explorer.started = true;\n            explorer.createQuickFolderAccess(0);\n            explorer.setExplorerPosition();\n            $(window).resize(function () {\n                //it makes explorer responsive.\n                explorer.resizeExplorer();\n                //clearTimeout(resizeId);//little trick to resize Explorer only after resizing get done.\n                //resizeId = setTimeout(explorer.resizeExplorer, 50);\n            });\n            explorer.disableBrowserContextMenu();\n            if (explorer.language !== undefined) {\n                explorer.loadLanguage();\n            } else {\n                explorer.initContextMenuEvent();\n            }\n            $(explorer.element).fadeIn(\"fast\");\n            explorer.showEmptyMessage();\n            explorer.setIconsBackgroundColor(explorer.iconsBackgroundColor);\n            $(explorer.container).on(\"drop\", function () {\n                if (explorer.currentParent == -1) {\n                    explorer.log(\"While searching, dropped files will be uploaded at the root.\", 1);\n                    $(document).trigger(\"droppedWhenSearching\", [\"While searching, dropped files will be uploaded at the root.\"]);\n                }\n            });\n        },\n        setIconsBackgroundColor: function setIconsBackgroundColor(color) {\n            var id = $(\"#iconsBackgroundColor\");\n            explorer.iconsBackgroundColor = color;\n            if (id.length) {\n                id.empty();\n                id.append(\".iconBorder{ background-color:\" + color + \"; }\");\n            } else {\n                $(\"head\").append(\"<style id=\\\"iconsBackgroundColor\\\"> .iconBorder{ background-color:\" + color + \"; }\");\n            }\n        },\n        resizeExplorer: function resizeExplorer() {\n            explorer.setExplorerPosition(); //resize Explorer\n            explorer.addFiles(explorer.currentParent, true); //reorganize files' position.\n            explorer.resizeBaseDialog();\n        },\n        showEmptyMessage: function showEmptyMessage() {\n            if (explorer.fileList.length === 0) {\n                if ($(\"#emptyMessage\").length) {\n                    $(\"#emptyMessage\").fadeIn(\"fast\");\n                } else {\n                    $(explorer.element).append(\"<p id='emptyMessage' class='gray txtcenter'>\" + explorer.LANG_LBL_EMPTY_MESSAGE + \"</p>\");\n                }\n            }\n        },\n        showContextMenu: function showContextMenu(file) {\n            var allOptions = null,\n                contextMenu4Files = $(\"#contextMenu4Files\");\n            var options = \"\",\n                contextMenuClass = \"contextMenuFile\";\n            explorer.hide([\"#contextMenu4Files\", \".contextMenuVoid\"]);\n            contextMenu4Files.removeClass(\"contextMenuFile contextMenuFolder\");\n            if (file == \"void\") {\n                $(\"#contextIdTools\").fadeIn(\"fast\");\n            } else {\n                contextMenu4Files.empty();\n                allOptions = explorer.selectedFiles.length > 1 && explorer.multiSelect;\n                options = options.concat(explorer.loadContextMenuOption(explorer.MOVE, allOptions ? explorer.CONTEXT_MENU_OPTIONS.MOVE_ALL : explorer.CONTEXT_MENU_OPTIONS.MOVE, allOptions) + (!allOptions ? explorer.loadContextMenuOption(explorer.RENAME, explorer.CONTEXT_MENU_OPTIONS.RENAME, allOptions) : \"\") + explorer.loadContextMenuOption(explorer.DELETE, allOptions ? explorer.CONTEXT_MENU_OPTIONS.DELETE_ALL : explorer.CONTEXT_MENU_OPTIONS.DELETE, allOptions) + explorer.loadContextMenuOption(explorer.SHARE, allOptions ? explorer.CONTEXT_MENU_OPTIONS.SHARE_ALL : explorer.CONTEXT_MENU_OPTIONS.SHARE, allOptions) + explorer.loadContextMenuOption(explorer.DOWNLOAD, allOptions ? explorer.CONTEXT_MENU_OPTIONS.DOWNLOAD_ALL : explorer.CONTEXT_MENU_OPTIONS.DOWNLOAD, allOptions));\n                if (!allOptions && file.ext == \"dir\") {\n                    options = explorer.loadContextMenuOption(explorer.OPEN, explorer.CONTEXT_MENU_OPTIONS.OPEN, allOptions).concat(options);\n                    contextMenuClass = \"contextMenuFolder\";\n                }\n                contextMenu4Files.addClass(contextMenuClass);\n                options = options.concat(explorer.customMenuOption(file));\n                contextMenu4Files.append(options);\n                if (contextMenu4Files.html().length < 1) {\n                    return;\n                }\n                contextMenu4Files.addClass(\"opacity9 gray ft12 txtmargin bold\");\n                contextMenu4Files.fadeIn(\"fast\");\n                contextMenu4Files.css(\"z-index\", 9999);\n                $(\".contextMenuOption\").on(\"click\", function () {\n                    if (isNotDisabled(this)) {\n                        contextMenu4Files.fadeOut(\"fast\");\n                    }\n                });\n                explorer.loadContextMenuOptionEvents(file);\n            }\n        },\n        loadContextMenuOptionEvents: function loadContextMenuOptionEvents(file) {\n\n            $(\"#expOpen\").on(\"click\", function (e) {\n                if (isNotDisabled(this)) {\n                    explorer.open(file);\n                }\n            });\n            $(\"#expMove\").on(\"click\", function (e) {\n                if (isNotDisabled(this)) {\n                    explorer.move(file);\n                }\n            });\n            $(\"#expRename\").on(\"click\", function (e) {\n                if (isNotDisabled(this)) {\n                    explorer.rename(file, false);\n                }\n            });\n            $(\"#expDelete\").on(\"click\", function (e) {\n                if (isNotDisabled(this)) {\n                    explorer.delete(file);\n                }\n            });\n            $(\"#expShare\").on(\"click\", function (e) {\n                if (isNotDisabled(this)) {\n                    explorer.share(file);\n                }\n            });\n            $(\"#expDownload\").on(\"click\", function (e) {\n                if (isNotDisabled(this)) {\n                    explorer.download(file);\n                }\n            });\n        },\n        loadContextMenuOption: function loadContextMenuOption(option, optionMenuState, all) {\n            var str;\n            switch (option) {\n                case explorer.MOVE:\n                    switch (optionMenuState) {\n                        case explorer.ENABLED:\n                            str = \"<p id='expMove' class='contextMenuOption handCursor'>\" + (all ? explorer.LANG_LBL_MOVE_ALL : explorer.LANG_LBL_MOVE) + \"</p>\";\n                            break;\n                        case explorer.DISABLED:\n                            str = \"<p id='expMove' class='contextMenuOption disabledContextMenuOption'>\" + (all ? explorer.LANG_LBL_MOVE_ALL : explorer.LANG_LBL_MOVE) + \"</p>\";\n                            break;\n                        case explorer.HIDDEN:\n                            str = \"\";\n                            break;\n                    }\n                    break;\n                case explorer.DELETE:\n                    switch (optionMenuState) {\n                        case explorer.ENABLED:\n                            str = \"<p id='expDelete' class='contextMenuOption handCursor'>\" + (all ? explorer.LANG_LBL_DEL_ALL : explorer.LANG_LBL_DEL) + \"</p>\";\n                            break;\n                        case explorer.DISABLED:\n                            str = \"<p id='expDelete' class='contextMenuOption disabledContextMenuOption'>\" + (all ? explorer.LANG_LBL_DEL_ALL : explorer.LANG_LBL_DEL) + \"</p>\";\n                            break;\n                        case explorer.HIDDEN:\n                            str = \"\";\n                            break;\n                    }\n                    break;\n                case explorer.SHARE:\n                    switch (optionMenuState) {\n                        case explorer.ENABLED:\n                            str = \"<p id='expShare' class='contextMenuOption handCursor'>\" + (all ? explorer.LANG_LBL_SHARE_ALL : explorer.LANG_LBL_SHARE) + \"</p>\";\n                            break;\n                        case explorer.DISABLED:\n                            str = \"<p id='expShare' class='contextMenuOption disabledContextMenuOption'>\" + (all ? explorer.LANG_LBL_SHARE_ALL : explorer.LANG_LBL_SHARE) + \"</p>\";\n                            break;\n                        case explorer.HIDDEN:\n                            str = \"\";\n                            break;\n                    }\n                    break;\n                case explorer.DOWNLOAD:\n                    switch (optionMenuState) {\n                        case explorer.ENABLED:\n                            str = \"<p id='expDownload' class='contextMenuOption handCursor'>\" + (all ? explorer.LANG_LBL_DOWNLOAD_ALL : explorer.LANG_LBL_DOWNLOAD) + \"</p>\";\n                            break;\n                        case explorer.DISABLED:\n                            str = \"<p id='expDownload' class='contextMenuOption disabledContextMenuOption'>\" + (all ? explorer.LANG_LBL_DOWNLOAD_ALL : explorer.LANG_LBL_DOWNLOAD) + \"</p>\";\n                            break;\n                        case explorer.HIDDEN:\n                            str = \"\";\n                            break;\n                    }\n                    break;\n                case explorer.NEW_FOLDER:\n                    switch (optionMenuState) {\n                        case explorer.ENABLED:\n                            str = \"<p id='expNewFolder' class='contextMenuOption handCursor' style='margin-top:10px;'>\" + explorer.LANG_LBL_NEW_FOLDER + \"</p>\";\n                            break;\n                        case explorer.DISABLED:\n                            str = \"<p id='expNewFolder' class='contextMenuOption disabledContextMenuOption' style='margin-top:10px;'>\" + explorer.LANG_LBL_NEW_FOLDER + \"</p>\";\n                            break;\n                        case explorer.HIDDEN:\n                            str = \"\";\n                            break;\n                    }\n                    break;\n                case explorer.UPLOAD:\n                    switch (optionMenuState) {\n                        case explorer.ENABLED:\n                            str = \"<p id='expUpload' class='contextMenuOption handCursor'>\" + explorer.LANG_LBL_UPLOAD + \"</p>\";\n                            break;\n                        case explorer.DISABLED:\n                            str = \"<p id='expUpload' class='contextMenuOption disabledContextMenuOption'>\" + explorer.LANG_LBL_UPLOAD + \"</p>\";\n                            break;\n                        case explorer.HIDDEN:\n                            str = \"\";\n                            break;\n                    }\n                    break;\n                case explorer.RENAME:\n                    switch (optionMenuState) {\n                        case explorer.ENABLED:\n                            str = \"<p id='expRename' class='contextMenuOption handCursor'>\" + explorer.LANG_LBL_RENAME + \"</p>\";\n                            break;\n                        case explorer.DISABLED:\n                            str = \"<p id='expRename' class='contextMenuOption disabledContextMenuOption'>\" + explorer.LANG_LBL_RENAME + \"</p>\";\n                            break;\n                        case explorer.HIDDEN:\n                            str = \"\";\n                            break;\n                    }\n                    break;\n                case explorer.OPEN:\n                    switch (optionMenuState) {\n                        case explorer.ENABLED:\n                            str = \"<p id='expOpen' class='contextMenuOption handCursor'>\" + explorer.LANG_LBL_OPEN + \"</p>\";\n                            break;\n                        case explorer.DISABLED:\n                            str = \"<p id='expOpen' class='contextMenuOption disabledContextMenuOption'>\" + explorer.LANG_LBL_OPEN + \"</p>\";\n                            break;\n                        case explorer.HIDDEN:\n                            str = \"\";\n                            break;\n                    }\n                    break;\n            }\n            return str;\n        },\n        //If you want to change the default size, you'll need to create baseDialog again, passing its width and height as paramenters\n        createBaseDialog: function createBaseDialog(width, height, options) {\n            if (options === undefined) {\n                options = [];\n            }\n            if (width === undefined) {\n                width = \"auto\";\n            }\n            options[\"width\"] = $.isNumeric(width) ? width + \"px\" : width;\n            if (height === undefined) {\n                height = \"auto\";\n            }\n            options[\"height\"] = $.isNumeric(height) ? height + \"px\" : height;\n            if (options !== undefined) {\n                if (options[\"min-width\"] === undefined) {\n                    options[\"min-width\"] = $.isNumeric(width) ? width : 0;\n                }\n                if (options[\"min-height\"] === undefined) {\n                    options[\"min-height\"] = $.isNumeric(height) ? height : 0;\n                }\n                if (options[\"style\"] === undefined) {\n                    options[\"style\"] = \"\";\n                }\n                if (options[\"class\"] === undefined) {\n                    options[\"class\"] = \"\";\n                }\n            }\n            explorer.getBaseDialog().remove();\n            $(\"body\").append(\"<div class='baseDialog radius10 opacity98 \" + options[\"class\"] + \"' style='\" + options[\"style\"] + \"'><input id='defaultWidth' type='hidden' value='\" + options[\"width\"] + \"'/>\" + \"<input id='defaultHeight' type='hidden' value='\" + options[\"height\"] + \"'/></div>\");\n            explorer.getBaseDialog().css({ width: options[\"width\"], height: options[\"height\"], \"min-width\": options[\"min-width\"], \"min-height\": options[\"min-height\"] });\n            var baseDialog = explorer.getBaseDialog();\n            baseDialog.append(\"<div class='closeBaseDialog handCursor displayNone' style='top: 10px; margin-right: 10px; float: right;'\" + \"title='Close' alt='Close'/> <br />\");\n            $(\".closeBaseDialog\").on(\"click\", function () {\n                explorer.closeBaseDialog();\n            });\n            baseDialog.append(\"<div id='baseDialogContent' class='baseDialogContent'> </div>\");\n        },\n        loadBaseDialog: function loadBaseDialog(content, def) {\n            var baseDialogContent = $(\"#baseDialogContent\");\n            var patt = /\\.tmp$|\\.html/i;\n            if (patt.test(content) === true) {\n                //if it is a template file, load it\n                baseDialogContent.load(content, function () {\n                    if (typeof def != 'undefined') {\n                        def.resolve();\n                    }\n                });\n            } else {\n                baseDialogContent.append(content);\n            }\n        },\n        showBaseDialog: function showBaseDialog(hideCloseButton, def) {\n            var baseDialog = explorer.getBaseDialog();\n            if (!baseDialog.ready()) {\n                this.showBaseDialog(hideCloseButton, def);\n                return;\n            }\n            if (hideCloseButton !== true) {\n                $(\".closeBaseDialog\").fadeIn(\"fast\");\n            }\n            baseDialog.ready(function () {\n                if (def !== undefined) {\n                    def.resolve();\n                }\n            });\n            if (baseDialog.find(\"#defaultHeight\").val() != \"auto\" && baseDialog.find(\"#defaultWidth\").val() != \"auto\") {\n                //explorer.centralize(explorer.baseDialogId);\n                explorer.resizeBaseDialog();\n            } else {\n                baseDialog.css(\"opacity\", 0);\n            }\n            baseDialog.show(explorer.baseDialogEffect, {}, 500, function () {\n                if (baseDialog.find(\"#defaultHeight\").val() == \"auto\" || baseDialog.find(\"#defaultWidth\").val() == \"auto\") {\n                    //explorer.centralize(explorer.baseDialogId);\n                    explorer.resizeBaseDialog();\n                    baseDialog.animate({\n                        opacity: 1\n                    }, 300);\n                }\n            });\n            var height = baseDialog.height(),\n                width = baseDialog.width();\n            var interval = setInterval(function () {\n                if (height != baseDialog.height() || width != baseDialog.width()) {\n                    height = baseDialog.height();\n                    width = baseDialog.width();\n                    baseDialog.trigger($.Event('resize'));\n                }\n            }, 5);\n            baseDialog.resize(function () {\n                explorer.resizeBaseDialog();\n            });\n            baseDialog.on(\"closeDialogEvent\", function () {\n                clearInterval(interval);\n            });\n            $(document).on(\"keyup\", function (e) {\n                if (e.keyCode == 27 && explorer.closeBaseDialogOnEsc === true && $(explorer.baseDialogId).length) {\n                    //ESC\n                    explorer.closeBaseDialog();\n                }\n            });\n        },\n        closeBaseDialog: function closeBaseDialog() {\n            var baseDialog = explorer.getBaseDialog();\n            $(\".closeBaseDialog\").fadeOut(100);\n            baseDialog.hide(explorer.baseDialogEffect, {}, 300, function () {\n                baseDialog.empty();\n            });\n            baseDialog.trigger(\"closeDialogEvent\");\n        },\n        resizeBaseDialog: function resizeBaseDialog() {\n            var baseDialog = explorer.getBaseDialog();\n            if ($(\"#baseDialogContent\").length) {\n                //if base dialog is visible, reposition it\n                var baseDialogWidth = baseDialog.outerWidth();\n                var baseDialogMinWidth = Number(baseDialog.css(\"min-width\").replace(\"px\", \"\"));\n                var baseDialogDefaultWidth = Number(baseDialog.find(\"#defaultWidth\").val().replace(\"px\", \"\"));\n                var windowWidth = $(window).width();\n                if ($.isNumeric(baseDialogDefaultWidth) && baseDialogWidth != baseDialogMinWidth && baseDialogWidth > windowWidth && baseDialogMinWidth < windowWidth || baseDialogWidth < windowWidth && baseDialogWidth < baseDialogDefaultWidth) {\n                    baseDialog.css(\"width\", windowWidth - 10 + \"px\");\n                }\n                var baseDialogHeight = baseDialog.outerHeight();\n                var baseDialogMinHeight = Number(baseDialog.css(\"min-height\").replace(\"px\", \"\"));\n                var baseDialogDefaultHeight = Number(baseDialog.find(\"#defaultHeight\").val().replace(\"px\", \"\"));\n                var windowHeight = $(window).height();\n                if ($.isNumeric(baseDialogDefaultHeight) && baseDialogHeight != baseDialogMinHeight && baseDialogHeight > windowHeight && baseDialogMinHeight < windowHeight || baseDialogHeight < windowHeight && baseDialogHeight < baseDialogDefaultHeight) {\n                    baseDialog.css(\"height\", windowHeight - 10 + \"px\");\n                }\n                explorer.centralize(explorer.baseDialogId);\n            }\n        },\n        getBaseDialog: function getBaseDialog() {\n            return $(explorer.baseDialogId);\n        },\n        centralize: function centralize(id) {\n            var width = $(id).outerWidth() / 2;\n            var windowWidth = $(window).width() / 2;\n            var height = $(id).outerHeight() / 2;\n            var windowHeight = $(window).height() / 2;\n            $(id).css({ \"left\": windowWidth - width + \"px\", \"top\": windowHeight - height + \"px\" });\n        },\n        log: function log(str, opt) {\n            if (explorer.debugMode) {\n                if (opt == 1) {\n                    console.info(str);\n                } else if (opt == 2) {\n                    console.dir(str);\n                } else {\n                    console.warn(str);\n                }\n            }\n        },\n        loadExplorerRootFolder: function loadExplorerRootFolder(def) {\n            var scripts = document.getElementsByTagName(\"script\");\n            var root = \"\";\n            var that = this;\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = scripts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var script = _step.value;\n\n                    try {\n                        (function () {\n                            var src = script.attributes.src.value;\n                            $.get(src, function (data) {\n                                if (data.indexOf(\"//METRO-EXPLORER_CODE\") != -1) {\n                                    var splPath = src.split(\"/\");\n                                    for (var x = 0; x < splPath.length - 2 || x == 0; x++) {\n                                        root = root.concat(splPath[0]).concat(\"\\\\\");\n                                    }\n                                    that.explorerRootFolder = root;\n                                    def.resolve();\n                                }\n                            });\n                        })();\n                    } catch (e) {\n                        continue;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            setTimeout(function () {\n                if (def.state() == 'pending') {\n                    that.log(\"We could not find Explorer's root folder. Explorer will not work well without it. Please, visit www.metroui.us/Explorer to know how to fix it.\");\n                    def.resolve();\n                }\n            }, 10 * 1000);\n        },\n        getExplorerRootFolder: function getExplorerRootFolder() {\n            return this.explorerRootFolder;\n        },\n        destroy: function destroy(element, explode) {\n            if (element === undefined || element === null) {\n                $(explorer.element).remove();\n            } else {\n                var patt = /#|\\.*/i;\n                if (patt.test(element) === true) {\n                    //if it is a class or id of an element\n                    if (explode) {\n                        $(element).effect(\"explode\", null, 700, function () {\n                            $(this).remove();\n                        });\n                    }\n                } else {\n                    explorer.log(\"You must enter a valid id, or css class. For example, '#my_id' or '.my_class'.\");\n                }\n            }\n        },\n        open: function open(file) {\n            var folderId = file.id;\n            var def = $.Deferred();\n            explorer.selectedFiles = [];\n            $(\".file\").fadeOut(200, function () {\n                explorer.addFiles(Number(folderId), null, def);\n            });\n            var item = new QuickAccessItem(folderId, explorer.getFileById(folderId).name);\n            explorer.currentPath.push(item);\n            $.when(def).done(function () {\n                $(\".file\").fadeIn(\"fast\");\n            });\n        },\n        rename: function rename(_file, save) {\n            var id = _file.id;\n            var file = { id: $(\"#\" + id), inputDiv: $(\"#\" + id).find(\"#input\" + id), input: $(\"#\" + id).find(\"#input\" + id).find(\"input\"), cover: $(\"#\" + id).find(\"#input\" + id).find(\"div\") };\n            if (save) {\n                //if the user has finished renaming this file.\n                var index = explorer.checkIfExists(id);\n                var newName = file.input.val();\n                if (newName.trim() === \"\") {\n                    newName = \"none\";\n                    file.input.val(newName);\n                }\n                explorer.fileList[index].name = newName;\n                file.input.attr({ readonly: \"readonly\", title: newName });\n                file.input.val(explorer.fileList[index].getName());\n                file.input.css({ border: \"none\", cursor: \"default\" });\n                file.inputDiv.prop(\"title\", newName);\n                file.cover.css(\"display\", \"block\");\n                file.id.trigger(\"fileUpdateEvent\", [{ \"file\": explorer.fileList[index] }, explorer.EVENT_RENAME]);\n            } else {\n                file.input.val(file.inputDiv.prop(\"title\"));\n                file.cover.css(\"display\", \"none\");\n                file.id.find(\"._selected\").remove();\n                file.id.css(\"border\", \"1px solid darkgray\");\n                file.input.removeAttr(\"readonly\");\n                file.input.css({ \"border\": \"2px dashed gray\", \"cursor\": \"text\" });\n                setTimeout(function () {\n                    moveCursorToEnd(file.input);\n                }, 300);\n            }\n        },\n        move: function move() {\n            var def = $.Deferred();\n            var numFolders = 0;\n            explorer.createBaseDialog(600);\n            explorer.loadBaseDialog(explorer.getExplorerRootFolder() + \"/templates/move.html\", def);\n            $.when(def).then(function () {\n                var btMoveFiles = $(\"#buttonMoveFiles\");\n                explorer.showBaseDialog(false);\n                $(\"#moveHeader\").text(explorer.LANG_LBL_MOVE_HEADER);\n                btMoveFiles.append(explorer.LANG_LBL_MOVE_BT_MOVE);\n                btMoveFiles.prop(\"title\", explorer.LANG_LBL_MOVE_BT_MOVE_TITLE);\n                if (explorer.currentParent != explorer.ROOT) {\n                    numFolders++;\n                    explorer.createDestFolder(explorer.ROOT);\n                }\n                $.grep(explorer.fileList, function (file, i) {\n                    //A folder should not be able to move to itself right?\n                    if (file.ext == \"dir\" && file.id != explorer.currentParent && !inArray(explorer.selectedFiles, file)) {\n                        //creating folders to move your files to\n                        numFolders++;\n                        explorer.createDestFolder(file);\n                    }\n                });\n                if (numFolders === 0) {\n                    $(\"#foldersList\").append(\"<br /><p class='gray ft10'>\" + explorer.LANG_LBL_NO_FOLDERS_FOUND + \"</p>\");\n                }\n                btMoveFiles.on(\"click\", function () {\n                    explorer.clientMove(explorer.TEMP_VAR);\n                });\n            });\n        },\n        createDestFolder: function createDestFolder(file) {\n            var id = null,\n                name = null;\n            if (isNaN(file)) {\n                //it is a custom folder\n                id = file.id;\n                name = file.name;\n            } else {\n                //it is ROOT folder\n                id = file;\n                name = explorer.LANG_LBL_ROOT_FOLDER;\n            }\n            $(\"#foldersList\").append(\"<div id='mv_\" + id + \"' class='file mvFolderItem fileButton' style='float:left;'>\" + \"<div class='center iconBorder'><div class='dir center'></div></div> <input class='txtcenter ft11 inputFileName'\" + \"maxlength='13' readonly='readonly' value='\" + name + \"'/></div>\");\n            $(\"#mv_\" + id).on(\"mousedown\", function () {\n                $(\".movFolderSelect\").remove();\n                $(\".mvFolderItem\").css(\"border\", \"1px solid gray\");\n                $(this).append(\"<div id='selec_mv_id\" + id + \"' class='opacity4 _selected movFolderSelect'> </div>\");\n                $(this).css(\"border\", \"1px solid blue\");\n                var buttonMoveFiles = $(\"#buttonMoveFiles\");\n                buttonMoveFiles.prop(\"disabled\", false);\n                buttonMoveFiles.removeClass(\"explorerButtonDisabled\");\n                explorer.TEMP_VAR = this.id.replace(\"mv_\", \"\");\n            });\n            explorer.initMouseOverEvent();\n        },\n        clientMove: function clientMove(destFolderId, goUp) {\n            var fileIndex = -1,\n                destFolder = null;\n            var def = $.Deferred();\n            var folders = [];\n            var files = [];\n            for (var x = 0; x < explorer.selectedFiles.length; x++) {\n                //create a list of files and folders that are going to be moved\n                fileIndex = explorer.checkIfExists(explorer.selectedFiles[x].id);\n                //destFolderIndex = explorer.checkIfExists(destFolderId);\n                if (explorer.selectedFiles[x].ext == \"dir\") {\n                    var subfolders = explorer.getMySubFolders(explorer.selectedFiles[x].id);\n                    if ($.inArray(destFolderId, subfolders) != -1) {\n                        //if moving folder to inside itself\n                        $(document).trigger(\"movingToItself\", [{ file: explorer.selectedFiles[x], msg: explorer.LANG_LBL_MOVE_FOLDER_ERROR_MSG.replace(\"{folderName}\", \"<b>\" + explorer.selectedFiles[x].name + \"</b>\") }]);\n                        explorer.selectedFiles.splice(x, 1);\n                    } else {\n                        folders.push(explorer.selectedFiles[x]);\n                    }\n                } else {\n                    files.push(explorer.selectedFiles[x]);\n                }\n            }\n            explorer.serverMove(destFolderId, files, folders, def);\n            $.when(def).then(function (response) {\n                //wait for server response\n                if (response === true) {\n                    explorer.closeBaseDialog();\n\n                    var _loop2 = function _loop2(_x) {\n                        var file = explorer.getFileById(explorer.selectedFiles[_x].id);\n                        destFolder = explorer.getFileById(destFolderId);\n                        //if it's in the same folder of the new folder\n                        if (destFolderId != explorer.ROOT && file.parent == explorer.currentParent && destFolder.parent == explorer.currentParent) {\n                            file.getElement().css(\"z-index\", 999).animate({\n                                top: destFolder.getElement().css(\"top\"),\n                                left: destFolder.getElement().css(\"left\")\n                            }, 1000 + _x * 500, function () {\n                                $(this).hide(\"scale\", { percent: 0 }, 700, function () {\n                                    file.getElement().css(\"z-index\", 1);\n                                });\n                            });\n                        } else if (goUp) {\n                            //if it was dropped on the goUp 'file'\n                            file.getElement().hide(\"slide\", { direction: \"up\" }, 500);\n                        } else {\n                            var destFolderParent = null;\n                            if (explorer.currentParent !== explorer.ROOT) {\n                                destFolderParent = explorer.getFileById(explorer.currentParent).parent;\n                            }\n                            if (destFolderId == destFolderParent) {\n                                file.getElement().css(\"z-index\", 999).animate({\n                                    top: explorer.fields.fieldList[0].element.css(\"top\"),\n                                    left: explorer.fields.fieldList[0].element.css(\"left\")\n                                }, 1000 + _x * 500, function () {\n                                    //a small delay between the files\n                                    file.getElement().hide(\"slide\", { direction: \"up\" }, 500);\n                                });\n                            } else {\n                                file.getElement().hide(\"clip\", {}, 500);\n                            }\n                        }\n                        fileIndex = explorer.checkIfExists(file.id);\n                        explorer.fileList[fileIndex].parent = Number(destFolderId);\n                        explorer.fileList[fileIndex].placed = false;\n                        explorer.fileList[fileIndex].field = -1;\n                    };\n\n                    for (var _x = 0; _x < explorer.selectedFiles.length; _x++) {\n                        _loop2(_x);\n                    }\n                }\n            });\n        },\n        search: function search(string) {\n            var noFile = true;\n            if (string.trim() === \"\") {\n                explorer.addFiles(0);\n                return;\n            }\n            explorer.fields.fieldList = [];\n            explorer.fields.usedFields = 0;\n            $(\".quickAccessLink\").css(\"text-decoration\", \"line-through\");\n            if (explorer.currentParent != -1) {\n                //ao pesquisar, todos os arquivos que estavam sendo exibidos no momento, devem perder seus lugares na tela\n                //Assim, quando o usuário clicar no link de acesso r?pido, ele ser? renderizado novamente.\n                for (var x = 0; x < explorer.fileList.length; x++) {\n                    explorer.fileList[x].placed = false;\n                }\n            }\n            explorer.currentParent = -1;\n            $(\".file, .field\").remove(); //Delete each file and field on the screen before add the new ones.\n            for (var _x2 = 0; _x2 < explorer.fileList.length; _x2++) {\n                if (explorer.fileList[_x2].name.toLowerCase().indexOf(string.toLowerCase()) != -1) {\n                    var _file2 = explorer.fileList[_x2];\n                    _file2.found = true;\n                    explorer.addFiles(_file2);\n                    noFile = false;\n                }\n            }\n            var emptyMessage = $(\"#emptyMessage\");\n            if (noFile) {\n                emptyMessage.text(\"No file found for: \" + string);\n                emptyMessage.fadeIn(\"fast\");\n            } else {\n                emptyMessage.text(explorer.LANG_LBL_EMPTY_MESSAGE);\n            }\n        },\n        serverMove: function serverMove(destFolderId, files, folders, def) {\n            def.resolve(true);\n        },\n        getMySubFolders: function getMySubFolders(folderId) {\n            var folders = \"\";\n            $.each(explorer.fileList, function (i, item) {\n                //for (item of explorer.fileList){\n                if (item.ext == \"dir\" && item.parent == folderId) {\n                    folders += item.id + \",\" + explorer.getMySubFolders(item.id);\n                }\n            });\n            folders = $.grep(folders.split(\",\"), function (val, i) {\n                if (val !== \"\") return val;\n            });\n            return folders;\n        },\n        delete: function _delete() {\n            explorer.clientDelete();\n        },\n        clientDelete: function clientDelete() {\n            var def = $.Deferred();\n            explorer.serverDelete(def);\n            $.when(def).then(function (success) {\n                if (success === true) {\n                    var _loop3 = function _loop3(x) {\n                        if (explorer.selectedFiles[x].ext == \"dir\") {\n                            explorer.deleteFolderRecursively(explorer.selectedFiles[x].id);\n                        }\n                        var index = explorer.checkIfExists(explorer.selectedFiles[x].id); //its index will change since his children will be removed from the list first\n                        var list = explorer.fields.fieldList[explorer.fileList[index].field].filesOn;\n                        explorer.fields.fieldList[explorer.fileList[index].field].filesOn = $.grep(list, function (val) {\n                            return val != explorer.fileList[index].id; //remove file from field\n                        });\n                        if (explorer.fields.fieldList[explorer.fileList[index].field].filesOn.length === 0) {\n                            explorer.fields.usedFields -= 1;\n                        }\n                        explorer.destroy(\"#\" + explorer.selectedFiles[x].id, true);\n                        explorer.fileList = $.grep(explorer.fileList, function (val, i) {\n                            return val.id != explorer.fileList[index].id; //remove file from list\n                        });\n                    };\n\n                    for (var x = 0; x < explorer.selectedFiles.length; x++) {\n                        _loop3(x);\n                    }\n                    explorer.selectedFiles = [];\n                    explorer.showEmptyMessage();\n                } else {\n                    explorer.log(\"Looks like your server side delete function did not return true, so explorer is not going to delete the selected files.\");\n                }\n            });\n        },\n        deleteFolderRecursively: function deleteFolderRecursively(folderId) {\n            for (var x = 0; x < explorer.fileList.length; x++) {\n                if (explorer.fileList[x].parent == folderId) {\n                    if (explorer.fileList[x].ext == \"dir\") {\n                        var subfolderId = explorer.fileList[x].id;\n                        explorer.deleteFolderRecursively(explorer.fileList[x].id);\n                        explorer.fileList = $.grep(explorer.fileList, function (val, i) {\n                            return val.id != subfolderId;\n                        });\n                        x = 0; //reset the counter cuz fileList has changed its files indexes\n                    } else {\n                        explorer.fileList = $.grep(explorer.fileList, function (val, i) {\n                            return val.id != explorer.fileList[x].id;\n                        });\n                        x = 0; //reset the counter cuz fileList has changed its files indexes\n                    }\n                }\n            }\n        },\n        serverDelete: function serverDelete(def) {\n            def.resolve(true);\n        },\n        share: function share() {},\n        download: function download() {},\n        dbclick: function dbclick(file) {\n            explorer.TEMP_VAR = file;\n            if (file.ext == \"dir\") {\n                explorer.open(file);\n            } else {\n                explorer.preview(file);\n            }\n        },\n        newFolder: function newFolder() {\n            var def = $.Deferred();\n            explorer.createBaseDialog(400);\n            explorer.loadBaseDialog(explorer.getExplorerRootFolder() + \"/templates/newFolder.html\", def);\n            $.when(def).then(function () {\n                explorer.showBaseDialog();\n                var btCreateFolder = $(\"#buttonCreateFolder\");\n                var inpFolderName = $(\"#inpFolderName\");\n                inpFolderName.on(\"keyup\", function () {\n                    if ($(this).val().length < 1) {\n                        btCreateFolder.addClass(\"explorerButtonDisabled\");\n                        btCreateFolder.prop(\"disabled\", \"disabled\");\n                    } else {\n                        btCreateFolder.removeClass(\"explorerButtonDisabled\");\n                        btCreateFolder.removeProp(\"disabled\");\n                    }\n                });\n                btCreateFolder.on(\"click\", function () {\n                    explorer.clientNewFolder($(\"#inpFolderName\").val());\n                });\n                inpFolderName.focus();\n                $(\"#newFolderHeader\").text(explorer.LANG_LBL_NEW_FOLDER_HEADER);\n                $(\"#folderName\").text(explorer.LANG_LBL_NEW_FOLDER_FOLDER_NAME);\n                btCreateFolder.text(explorer.LANG_LBL_NEW_FOLDER_BT_CREATE);\n            });\n        },\n        clientNewFolder: function clientNewFolder(folderName) {\n            var def = $.Deferred();\n            explorer.serverNewFolder(folderName, def);\n            $.when(def).then(function (folderId) {\n                if ($.isNumeric(folderId)) {\n                    explorer.addFiles(new _file5.default(folderId, folderName, \"dir\", explorer.currentParent));\n                    explorer.closeBaseDialog();\n                } else {\n                    explorer.log(\"explorer.serverNewFolder() either did not return the folder ID or its result is not a number. Result: \" + folderId);\n                }\n            });\n        },\n        serverNewFolder: function serverNewFolder(folderName, def) {\n            return def.resolve(Math.floor(Math.random() * 500 + 200));\n        },\n        upload: function upload() {},\n        customMenuOption: function customMenuOption(file) {\n            return \"\";\n        },\n        buildCustomMenuOption: function buildCustomMenuOption(label, callback, options) {\n            var id = null,\n                interval = null,\n                clazz = \"\",\n                title = \"\";\n            id = explorer.customOptionId++;\n            interval = setInterval(function () {\n                if ($(\"#contextMenuOption\" + id).length) {\n                    $(\"#contextMenuOption\" + id).on(\"click\", function (e) {\n                        if (isNotDisabled(this)) {\n                            callback(explorer.selectedFiles);\n                        }\n                    });\n                    clearInterval(interval);\n                }\n            }, 50);\n            if (options) {\n                if (options.disabled) {\n                    clazz = \"disabledContextMenuOption\";\n                }\n                if (options.title) {\n                    title = options.title;\n                }\n            }\n            return \"<p title='\" + title + \"' id='contextMenuOption\" + id + \"'class='contextMenuOption handCursor \" + clazz + \"'>\" + label + \"</p>\";\n        },\n        preview: function preview(file) {},\n        getAvailableIconExtensions: function getAvailableIconExtensions() {\n            var startCollecting = false,\n                stopCollecting = false;\n            var extensions = [];\n            var path = null;\n            var file = this.getExplorerStyleFile();\n            for (var y = 0; y < file.cssRules.length; y++) {\n                if (!startCollecting) {\n                    startCollecting = file.cssRules[y].selectorText == \".EXPLORER_EXTENSIONS_BEGIN\";\n                    continue;\n                }\n                if (startCollecting && !stopCollecting) {\n                    path = getValueBetweenQuotes(file.cssRules[y].style.background).replace(\"..\", \"\");\n                    if ($.inArray(path, explorer.iconPaths) == -1) {\n                        explorer.iconPaths.push(path);\n                    }\n                    stopCollecting = file.cssRules[y].selectorText == \".EXPLORER_EXTENSIONS_END\";\n                    if (stopCollecting) {\n                        break;\n                    }\n                    extensions.push(file.cssRules[y].selectorText.replace(\".\", \"\"));\n                }\n            }\n            return extensions.length === 0 ? null : extensions;\n        },\n        getExplorerStyleFile: function getExplorerStyleFile() {\n            if (this.styleFile !== null) {\n                return this.styleFile;\n            }\n            var files = document.styleSheets;\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = files[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var _file3 = _step2.value;\n\n                    if (_file3.href === null || _file3.href === undefined) {\n                        continue;\n                    }\n                    var _iteratorNormalCompletion3 = true;\n                    var _didIteratorError3 = false;\n                    var _iteratorError3 = undefined;\n\n                    try {\n                        for (var _iterator3 = _file3.cssRules[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                            var rule = _step3.value;\n\n                            if (rule.selectorText == \".EXPLORER_EXTENSIONS_BEGIN\") {\n                                this.styleFile = _file3;\n                                return this.styleFile;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError3 = true;\n                        _iteratorError3 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                _iterator3.return();\n                            }\n                        } finally {\n                            if (_didIteratorError3) {\n                                throw _iteratorError3;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n    };\n    return explorer;\n};\n\nfunction removeClass(objs, classes) {\n    $.each(objs, function (i, obj) {\n        $.each(classes, function (i, clasS) {\n            $(obj).removeClass(clasS);\n        });\n    });\n}\nfunction addClass(objs, classes) {\n    $.each(objs, function (i, obj) {\n        $.each(classes, function (i, clasS) {\n            $(obj).addClass(clasS);\n        });\n    });\n}\n\nfunction Field(id, element, filesOn, top, left) {\n    this.id = \"field_\" + id;\n    this.element = element;\n    this.filesOn = filesOn;\n    this.top = top;\n    this.left = left;\n    this.fieldNumber = function () {\n        return Number(this.id.replace(\"field_\", \"\"));\n    };\n}\n\nfunction QuickAccessItem(id, name) {\n    this.id = id;\n    this.name = name;\n}\n\nfunction moveCursorToEnd(input) {\n    var originalValue = input.val();\n    input.val('');\n    input.focus().val(originalValue);\n}\n\nfunction getValueBetweenQuotes(str) {\n    var ret = \"\";\n    if (/\"/.test(str)) {\n        ret = str.match(/\"(.*?)\"/)[1];\n    } else {\n        ret = str;\n    }\n    return ret;\n}\n\nfunction isNotDisabled(element) {\n    return !$(element).hasClass(\"disabledContextMenuOption\");\n}\n\nfunction inArray(array, obj, fieldstoCompare) {\n    \"use strict\";\n\n    var properties = [];\n    var equals = false;\n    if (fieldstoCompare === undefined) {\n        for (var x = 0; x < array.length; x++) {\n            for (var prop in obj) {\n                if ($.isFunction(array[x][prop])) continue;\n                equals = obj[prop] === array[x][prop];\n                if (!equals) {\n                    break;\n                }\n            }\n            if (equals) {\n                return equals;\n            }\n        }\n        return equals;\n    } else {\n        for (var _x3 = 0; _x3 < array.length; _x3++) {\n            equals = true;\n            for (var y = 0; y < fieldstoCompare.length; y++) {\n                var _prop = fieldstoCompare[y];\n                if ($.isFunction(array[_x3][_prop])) continue;\n                properties[y] = array[_x3][_prop] === obj[_prop];\n            }\n            for (var _y = 0; _y < properties.length; _y++) {\n                if (properties[_y] === false) {\n                    equals = false;\n                    break;\n                }\n            }\n            if (equals === true) {\n                return equals;\n            }\n        }\n        return equals;\n    }\n}\nmodule.exports = Explorer;\n\n},{\"./file.js\":4}],4:[function(require,module,exports){\n\"use strict\";\n\n/**\r\n * Created by lucas on 11/2/2016.\r\n */\n\nvar File = function File(id, name, ext, parent, field) {\n    this.id = id;\n    this.parent = parent === undefined || parent === null ? 0 : parent;\n    this.field = field === undefined || field === null ? -1 : field;\n    this.placed = false;\n    this.name = name;\n    this.getIcon = function (ext) {\n        ext = this.ext !== undefined ? this.ext : \"\";\n        if (window.AVAILABLE_ICON_EXTENSIONS) {\n            var extIndex = window.AVAILABLE_ICON_EXTENSIONS.indexOf(ext.toLowerCase());\n            if (extIndex == -1 || window.AVAILABLE_ICON_EXTENSIONS.indexOf(\"_\".concat(ext.toLowerCase())) != -1) {\n                return \"noIcon\";\n            }\n        }\n        return ext.toLowerCase();\n    };\n    this.getName = function () {\n        var name = this.name;\n        if (name.length > 12) {\n            name = name.substring(0, 12) + \"...\";\n        }\n        return name;\n    };\n    this.getExtension = function (file) {\n        file = file === undefined ? this.ext : file;\n        var str = file.split(\".\");\n        var ext = str[str.length - 1];\n        console.log(this.checkIcon(ext));\n        return this.checkIcon(ext);\n    };\n    this.getElement = function () {\n        return $(\"#\" + this.id);\n    };\n    this.ext = ext;\n};\n\nmodule.exports = File;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! jQuery UI - v1.11.4 - 2015-07-15\r\n* http://jqueryui.com\r\n* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js\r\n* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */\n\n(function (e) {\n  \"function\" == typeof define && define.amd ? define([\"jquery\"], e) : e(jQuery);\n})(function (e) {\n  function t(t, s) {\n    var n,\n        a,\n        o,\n        r = t.nodeName.toLowerCase();return \"area\" === r ? (n = t.parentNode, a = n.name, t.href && a && \"map\" === n.nodeName.toLowerCase() ? (o = e(\"img[usemap='#\" + a + \"']\")[0], !!o && i(o)) : !1) : (/^(input|select|textarea|button|object)$/.test(r) ? !t.disabled : \"a\" === r ? t.href || s : s) && i(t);\n  }function i(t) {\n    return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function () {\n      return \"hidden\" === e.css(this, \"visibility\");\n    }).length;\n  }e.ui = e.ui || {}, e.extend(e.ui, { version: \"1.11.4\", keyCode: { BACKSPACE: 8, COMMA: 188, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, LEFT: 37, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SPACE: 32, TAB: 9, UP: 38 } }), e.fn.extend({ scrollParent: function scrollParent(t) {\n      var i = this.css(\"position\"),\n          s = \"absolute\" === i,\n          n = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n          a = this.parents().filter(function () {\n        var t = e(this);return s && \"static\" === t.css(\"position\") ? !1 : n.test(t.css(\"overflow\") + t.css(\"overflow-y\") + t.css(\"overflow-x\"));\n      }).eq(0);return \"fixed\" !== i && a.length ? a : e(this[0].ownerDocument || document);\n    }, uniqueId: function () {\n      var e = 0;return function () {\n        return this.each(function () {\n          this.id || (this.id = \"ui-id-\" + ++e);\n        });\n      };\n    }(), removeUniqueId: function removeUniqueId() {\n      return this.each(function () {\n        /^ui-id-\\d+$/.test(this.id) && e(this).removeAttr(\"id\");\n      });\n    } }), e.extend(e.expr[\":\"], { data: e.expr.createPseudo ? e.expr.createPseudo(function (t) {\n      return function (i) {\n        return !!e.data(i, t);\n      };\n    }) : function (t, i, s) {\n      return !!e.data(t, s[3]);\n    }, focusable: function focusable(i) {\n      return t(i, !isNaN(e.attr(i, \"tabindex\")));\n    }, tabbable: function tabbable(i) {\n      var s = e.attr(i, \"tabindex\"),\n          n = isNaN(s);return (n || s >= 0) && t(i, !n);\n    } }), e(\"<a>\").outerWidth(1).jquery || e.each([\"Width\", \"Height\"], function (t, i) {\n    function s(t, i, s, a) {\n      return e.each(n, function () {\n        i -= parseFloat(e.css(t, \"padding\" + this)) || 0, s && (i -= parseFloat(e.css(t, \"border\" + this + \"Width\")) || 0), a && (i -= parseFloat(e.css(t, \"margin\" + this)) || 0);\n      }), i;\n    }var n = \"Width\" === i ? [\"Left\", \"Right\"] : [\"Top\", \"Bottom\"],\n        a = i.toLowerCase(),\n        o = { innerWidth: e.fn.innerWidth, innerHeight: e.fn.innerHeight, outerWidth: e.fn.outerWidth, outerHeight: e.fn.outerHeight };e.fn[\"inner\" + i] = function (t) {\n      return void 0 === t ? o[\"inner\" + i].call(this) : this.each(function () {\n        e(this).css(a, s(this, t) + \"px\");\n      });\n    }, e.fn[\"outer\" + i] = function (t, n) {\n      return \"number\" != typeof t ? o[\"outer\" + i].call(this, t) : this.each(function () {\n        e(this).css(a, s(this, t, !0, n) + \"px\");\n      });\n    };\n  }), e.fn.addBack || (e.fn.addBack = function (e) {\n    return this.add(null == e ? this.prevObject : this.prevObject.filter(e));\n  }), e(\"<a>\").data(\"a-b\", \"a\").removeData(\"a-b\").data(\"a-b\") && (e.fn.removeData = function (t) {\n    return function (i) {\n      return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this);\n    };\n  }(e.fn.removeData)), e.ui.ie = !!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()), e.fn.extend({ focus: function (t) {\n      return function (i, s) {\n        return \"number\" == typeof i ? this.each(function () {\n          var t = this;setTimeout(function () {\n            e(t).focus(), s && s.call(t);\n          }, i);\n        }) : t.apply(this, arguments);\n      };\n    }(e.fn.focus), disableSelection: function () {\n      var e = \"onselectstart\" in document.createElement(\"div\") ? \"selectstart\" : \"mousedown\";return function () {\n        return this.bind(e + \".ui-disableSelection\", function (e) {\n          e.preventDefault();\n        });\n      };\n    }(), enableSelection: function enableSelection() {\n      return this.unbind(\".ui-disableSelection\");\n    }, zIndex: function zIndex(t) {\n      if (void 0 !== t) return this.css(\"zIndex\", t);if (this.length) for (var i, s, n = e(this[0]); n.length && n[0] !== document;) {\n        if (i = n.css(\"position\"), (\"absolute\" === i || \"relative\" === i || \"fixed\" === i) && (s = parseInt(n.css(\"zIndex\"), 10), !isNaN(s) && 0 !== s)) return s;n = n.parent();\n      }return 0;\n    } }), e.ui.plugin = { add: function add(t, i, s) {\n      var n,\n          a = e.ui[t].prototype;for (n in s) {\n        a.plugins[n] = a.plugins[n] || [], a.plugins[n].push([i, s[n]]);\n      }\n    }, call: function call(e, t, i, s) {\n      var n,\n          a = e.plugins[t];if (a && (s || e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType)) for (n = 0; a.length > n; n++) {\n        e.options[a[n][0]] && a[n][1].apply(e.element, i);\n      }\n    } };var s = 0,\n      n = Array.prototype.slice;e.cleanData = function (t) {\n    return function (i) {\n      var s, n, a;for (a = 0; null != (n = i[a]); a++) {\n        try {\n          s = e._data(n, \"events\"), s && s.remove && e(n).triggerHandler(\"remove\");\n        } catch (o) {}\n      }t(i);\n    };\n  }(e.cleanData), e.widget = function (t, i, s) {\n    var n,\n        a,\n        o,\n        r,\n        h = {},\n        l = t.split(\".\")[0];return t = t.split(\".\")[1], n = l + \"-\" + t, s || (s = i, i = e.Widget), e.expr[\":\"][n.toLowerCase()] = function (t) {\n      return !!e.data(t, n);\n    }, e[l] = e[l] || {}, a = e[l][t], o = e[l][t] = function (e, t) {\n      return this._createWidget ? (arguments.length && this._createWidget(e, t), void 0) : new o(e, t);\n    }, e.extend(o, a, { version: s.version, _proto: e.extend({}, s), _childConstructors: [] }), r = new i(), r.options = e.widget.extend({}, r.options), e.each(s, function (t, s) {\n      return e.isFunction(s) ? (h[t] = function () {\n        var e = function e() {\n          return i.prototype[t].apply(this, arguments);\n        },\n            n = function n(e) {\n          return i.prototype[t].apply(this, e);\n        };return function () {\n          var t,\n              i = this._super,\n              a = this._superApply;return this._super = e, this._superApply = n, t = s.apply(this, arguments), this._super = i, this._superApply = a, t;\n        };\n      }(), void 0) : (h[t] = s, void 0);\n    }), o.prototype = e.widget.extend(r, { widgetEventPrefix: a ? r.widgetEventPrefix || t : t }, h, { constructor: o, namespace: l, widgetName: t, widgetFullName: n }), a ? (e.each(a._childConstructors, function (t, i) {\n      var s = i.prototype;e.widget(s.namespace + \".\" + s.widgetName, o, i._proto);\n    }), delete a._childConstructors) : i._childConstructors.push(o), e.widget.bridge(t, o), o;\n  }, e.widget.extend = function (t) {\n    for (var i, s, a = n.call(arguments, 1), o = 0, r = a.length; r > o; o++) {\n      for (i in a[o]) {\n        s = a[o][i], a[o].hasOwnProperty(i) && void 0 !== s && (t[i] = e.isPlainObject(s) ? e.isPlainObject(t[i]) ? e.widget.extend({}, t[i], s) : e.widget.extend({}, s) : s);\n      }\n    }return t;\n  }, e.widget.bridge = function (t, i) {\n    var s = i.prototype.widgetFullName || t;e.fn[t] = function (a) {\n      var o = \"string\" == typeof a,\n          r = n.call(arguments, 1),\n          h = this;return o ? this.each(function () {\n        var i,\n            n = e.data(this, s);return \"instance\" === a ? (h = n, !1) : n ? e.isFunction(n[a]) && \"_\" !== a.charAt(0) ? (i = n[a].apply(n, r), i !== n && void 0 !== i ? (h = i && i.jquery ? h.pushStack(i.get()) : i, !1) : void 0) : e.error(\"no such method '\" + a + \"' for \" + t + \" widget instance\") : e.error(\"cannot call methods on \" + t + \" prior to initialization; \" + \"attempted to call method '\" + a + \"'\");\n      }) : (r.length && (a = e.widget.extend.apply(null, [a].concat(r))), this.each(function () {\n        var t = e.data(this, s);t ? (t.option(a || {}), t._init && t._init()) : e.data(this, s, new i(a, this));\n      })), h;\n    };\n  }, e.Widget = function () {}, e.Widget._childConstructors = [], e.Widget.prototype = { widgetName: \"widget\", widgetEventPrefix: \"\", defaultElement: \"<div>\", options: { disabled: !1, create: null }, _createWidget: function _createWidget(t, i) {\n      i = e(i || this.defaultElement || this)[0], this.element = e(i), this.uuid = s++, this.eventNamespace = \".\" + this.widgetName + this.uuid, this.bindings = e(), this.hoverable = e(), this.focusable = e(), i !== this && (e.data(i, this.widgetFullName, this), this._on(!0, this.element, { remove: function remove(e) {\n          e.target === i && this.destroy();\n        } }), this.document = e(i.style ? i.ownerDocument : i.document || i), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t), this._create(), this._trigger(\"create\", null, this._getCreateEventData()), this._init();\n    }, _getCreateOptions: e.noop, _getCreateEventData: e.noop, _create: e.noop, _init: e.noop, destroy: function destroy() {\n      this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr(\"aria-disabled\").removeClass(this.widgetFullName + \"-disabled \" + \"ui-state-disabled\"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass(\"ui-state-hover\"), this.focusable.removeClass(\"ui-state-focus\");\n    }, _destroy: e.noop, widget: function widget() {\n      return this.element;\n    }, option: function option(t, i) {\n      var s,\n          n,\n          a,\n          o = t;if (0 === arguments.length) return e.widget.extend({}, this.options);if (\"string\" == typeof t) if (o = {}, s = t.split(\".\"), t = s.shift(), s.length) {\n        for (n = o[t] = e.widget.extend({}, this.options[t]), a = 0; s.length - 1 > a; a++) {\n          n[s[a]] = n[s[a]] || {}, n = n[s[a]];\n        }if (t = s.pop(), 1 === arguments.length) return void 0 === n[t] ? null : n[t];n[t] = i;\n      } else {\n        if (1 === arguments.length) return void 0 === this.options[t] ? null : this.options[t];o[t] = i;\n      }return this._setOptions(o), this;\n    }, _setOptions: function _setOptions(e) {\n      var t;for (t in e) {\n        this._setOption(t, e[t]);\n      }return this;\n    }, _setOption: function _setOption(e, t) {\n      return this.options[e] = t, \"disabled\" === e && (this.widget().toggleClass(this.widgetFullName + \"-disabled\", !!t), t && (this.hoverable.removeClass(\"ui-state-hover\"), this.focusable.removeClass(\"ui-state-focus\"))), this;\n    }, enable: function enable() {\n      return this._setOptions({ disabled: !1 });\n    }, disable: function disable() {\n      return this._setOptions({ disabled: !0 });\n    }, _on: function _on(t, i, s) {\n      var n,\n          a = this;\"boolean\" != typeof t && (s = i, i = t, t = !1), s ? (i = n = e(i), this.bindings = this.bindings.add(i)) : (s = i, i = this.element, n = this.widget()), e.each(s, function (s, o) {\n        function r() {\n          return t || a.options.disabled !== !0 && !e(this).hasClass(\"ui-state-disabled\") ? (\"string\" == typeof o ? a[o] : o).apply(a, arguments) : void 0;\n        }\"string\" != typeof o && (r.guid = o.guid = o.guid || r.guid || e.guid++);var h = s.match(/^([\\w:-]*)\\s*(.*)$/),\n            l = h[1] + a.eventNamespace,\n            u = h[2];u ? n.delegate(u, l, r) : i.bind(l, r);\n      });\n    }, _off: function _off(t, i) {\n      i = (i || \"\").split(\" \").join(this.eventNamespace + \" \") + this.eventNamespace, t.unbind(i).undelegate(i), this.bindings = e(this.bindings.not(t).get()), this.focusable = e(this.focusable.not(t).get()), this.hoverable = e(this.hoverable.not(t).get());\n    }, _delay: function _delay(e, t) {\n      function i() {\n        return (\"string\" == typeof e ? s[e] : e).apply(s, arguments);\n      }var s = this;return setTimeout(i, t || 0);\n    }, _hoverable: function _hoverable(t) {\n      this.hoverable = this.hoverable.add(t), this._on(t, { mouseenter: function mouseenter(t) {\n          e(t.currentTarget).addClass(\"ui-state-hover\");\n        }, mouseleave: function mouseleave(t) {\n          e(t.currentTarget).removeClass(\"ui-state-hover\");\n        } });\n    }, _focusable: function _focusable(t) {\n      this.focusable = this.focusable.add(t), this._on(t, { focusin: function focusin(t) {\n          e(t.currentTarget).addClass(\"ui-state-focus\");\n        }, focusout: function focusout(t) {\n          e(t.currentTarget).removeClass(\"ui-state-focus\");\n        } });\n    }, _trigger: function _trigger(t, i, s) {\n      var n,\n          a,\n          o = this.options[t];if (s = s || {}, i = e.Event(i), i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), i.target = this.element[0], a = i.originalEvent) for (n in a) {\n        n in i || (i[n] = a[n]);\n      }return this.element.trigger(i, s), !(e.isFunction(o) && o.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented());\n    } }, e.each({ show: \"fadeIn\", hide: \"fadeOut\" }, function (t, i) {\n    e.Widget.prototype[\"_\" + t] = function (s, n, a) {\n      \"string\" == typeof n && (n = { effect: n });var o,\n          r = n ? n === !0 || \"number\" == typeof n ? i : n.effect || i : t;n = n || {}, \"number\" == typeof n && (n = { duration: n }), o = !e.isEmptyObject(n), n.complete = a, n.delay && s.delay(n.delay), o && e.effects && e.effects.effect[r] ? s[t](n) : r !== t && s[r] ? s[r](n.duration, n.easing, a) : s.queue(function (i) {\n        e(this)[t](), a && a.call(s[0]), i();\n      });\n    };\n  }), e.widget;var a = !1;e(document).mouseup(function () {\n    a = !1;\n  }), e.widget(\"ui.mouse\", { version: \"1.11.4\", options: { cancel: \"input,textarea,button,select,option\", distance: 1, delay: 0 }, _mouseInit: function _mouseInit() {\n      var t = this;this.element.bind(\"mousedown.\" + this.widgetName, function (e) {\n        return t._mouseDown(e);\n      }).bind(\"click.\" + this.widgetName, function (i) {\n        return !0 === e.data(i.target, t.widgetName + \".preventClickEvent\") ? (e.removeData(i.target, t.widgetName + \".preventClickEvent\"), i.stopImmediatePropagation(), !1) : void 0;\n      }), this.started = !1;\n    }, _mouseDestroy: function _mouseDestroy() {\n      this.element.unbind(\".\" + this.widgetName), this._mouseMoveDelegate && this.document.unbind(\"mousemove.\" + this.widgetName, this._mouseMoveDelegate).unbind(\"mouseup.\" + this.widgetName, this._mouseUpDelegate);\n    }, _mouseDown: function _mouseDown(t) {\n      if (!a) {\n        this._mouseMoved = !1, this._mouseStarted && this._mouseUp(t), this._mouseDownEvent = t;var i = this,\n            s = 1 === t.which,\n            n = \"string\" == typeof this.options.cancel && t.target.nodeName ? e(t.target).closest(this.options.cancel).length : !1;return s && !n && this._mouseCapture(t) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () {\n          i.mouseDelayMet = !0;\n        }, this.options.delay)), this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(t) !== !1, !this._mouseStarted) ? (t.preventDefault(), !0) : (!0 === e.data(t.target, this.widgetName + \".preventClickEvent\") && e.removeData(t.target, this.widgetName + \".preventClickEvent\"), this._mouseMoveDelegate = function (e) {\n          return i._mouseMove(e);\n        }, this._mouseUpDelegate = function (e) {\n          return i._mouseUp(e);\n        }, this.document.bind(\"mousemove.\" + this.widgetName, this._mouseMoveDelegate).bind(\"mouseup.\" + this.widgetName, this._mouseUpDelegate), t.preventDefault(), a = !0, !0)) : !0;\n      }\n    }, _mouseMove: function _mouseMove(t) {\n      if (this._mouseMoved) {\n        if (e.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button) return this._mouseUp(t);if (!t.which) return this._mouseUp(t);\n      }return (t.which || t.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted);\n    }, _mouseUp: function _mouseUp(t) {\n      return this.document.unbind(\"mousemove.\" + this.widgetName, this._mouseMoveDelegate).unbind(\"mouseup.\" + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + \".preventClickEvent\", !0), this._mouseStop(t)), a = !1, !1;\n    }, _mouseDistanceMet: function _mouseDistanceMet(e) {\n      return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance;\n    }, _mouseDelayMet: function _mouseDelayMet() {\n      return this.mouseDelayMet;\n    }, _mouseStart: function _mouseStart() {}, _mouseDrag: function _mouseDrag() {}, _mouseStop: function _mouseStop() {}, _mouseCapture: function _mouseCapture() {\n      return !0;\n    } }), function () {\n    function t(e, t, i) {\n      return [parseFloat(e[0]) * (p.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (p.test(e[1]) ? i / 100 : 1)];\n    }function i(t, i) {\n      return parseInt(e.css(t, i), 10) || 0;\n    }function s(t) {\n      var i = t[0];return 9 === i.nodeType ? { width: t.width(), height: t.height(), offset: { top: 0, left: 0 } } : e.isWindow(i) ? { width: t.width(), height: t.height(), offset: { top: t.scrollTop(), left: t.scrollLeft() } } : i.preventDefault ? { width: 0, height: 0, offset: { top: i.pageY, left: i.pageX } } : { width: t.outerWidth(), height: t.outerHeight(), offset: t.offset() };\n    }e.ui = e.ui || {};var n,\n        a,\n        o = Math.max,\n        r = Math.abs,\n        h = Math.round,\n        l = /left|center|right/,\n        u = /top|center|bottom/,\n        d = /[\\+\\-]\\d+(\\.[\\d]+)?%?/,\n        c = /^\\w+/,\n        p = /%$/,\n        f = e.fn.position;e.position = { scrollbarWidth: function scrollbarWidth() {\n        if (void 0 !== n) return n;var t,\n            i,\n            s = e(\"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\"),\n            a = s.children()[0];return e(\"body\").append(s), t = a.offsetWidth, s.css(\"overflow\", \"scroll\"), i = a.offsetWidth, t === i && (i = s[0].clientWidth), s.remove(), n = t - i;\n      }, getScrollInfo: function getScrollInfo(t) {\n        var i = t.isWindow || t.isDocument ? \"\" : t.element.css(\"overflow-x\"),\n            s = t.isWindow || t.isDocument ? \"\" : t.element.css(\"overflow-y\"),\n            n = \"scroll\" === i || \"auto\" === i && t.width < t.element[0].scrollWidth,\n            a = \"scroll\" === s || \"auto\" === s && t.height < t.element[0].scrollHeight;return { width: a ? e.position.scrollbarWidth() : 0, height: n ? e.position.scrollbarWidth() : 0 };\n      }, getWithinInfo: function getWithinInfo(t) {\n        var i = e(t || window),\n            s = e.isWindow(i[0]),\n            n = !!i[0] && 9 === i[0].nodeType;return { element: i, isWindow: s, isDocument: n, offset: i.offset() || { left: 0, top: 0 }, scrollLeft: i.scrollLeft(), scrollTop: i.scrollTop(), width: s || n ? i.width() : i.outerWidth(), height: s || n ? i.height() : i.outerHeight() };\n      } }, e.fn.position = function (n) {\n      if (!n || !n.of) return f.apply(this, arguments);n = e.extend({}, n);var p,\n          m,\n          g,\n          v,\n          y,\n          b,\n          _ = e(n.of),\n          x = e.position.getWithinInfo(n.within),\n          w = e.position.getScrollInfo(x),\n          k = (n.collision || \"flip\").split(\" \"),\n          T = {};return b = s(_), _[0].preventDefault && (n.at = \"left top\"), m = b.width, g = b.height, v = b.offset, y = e.extend({}, v), e.each([\"my\", \"at\"], function () {\n        var e,\n            t,\n            i = (n[this] || \"\").split(\" \");1 === i.length && (i = l.test(i[0]) ? i.concat([\"center\"]) : u.test(i[0]) ? [\"center\"].concat(i) : [\"center\", \"center\"]), i[0] = l.test(i[0]) ? i[0] : \"center\", i[1] = u.test(i[1]) ? i[1] : \"center\", e = d.exec(i[0]), t = d.exec(i[1]), T[this] = [e ? e[0] : 0, t ? t[0] : 0], n[this] = [c.exec(i[0])[0], c.exec(i[1])[0]];\n      }), 1 === k.length && (k[1] = k[0]), \"right\" === n.at[0] ? y.left += m : \"center\" === n.at[0] && (y.left += m / 2), \"bottom\" === n.at[1] ? y.top += g : \"center\" === n.at[1] && (y.top += g / 2), p = t(T.at, m, g), y.left += p[0], y.top += p[1], this.each(function () {\n        var s,\n            l,\n            u = e(this),\n            d = u.outerWidth(),\n            c = u.outerHeight(),\n            f = i(this, \"marginLeft\"),\n            b = i(this, \"marginTop\"),\n            D = d + f + i(this, \"marginRight\") + w.width,\n            S = c + b + i(this, \"marginBottom\") + w.height,\n            N = e.extend({}, y),\n            M = t(T.my, u.outerWidth(), u.outerHeight());\"right\" === n.my[0] ? N.left -= d : \"center\" === n.my[0] && (N.left -= d / 2), \"bottom\" === n.my[1] ? N.top -= c : \"center\" === n.my[1] && (N.top -= c / 2), N.left += M[0], N.top += M[1], a || (N.left = h(N.left), N.top = h(N.top)), s = { marginLeft: f, marginTop: b }, e.each([\"left\", \"top\"], function (t, i) {\n          e.ui.position[k[t]] && e.ui.position[k[t]][i](N, { targetWidth: m, targetHeight: g, elemWidth: d, elemHeight: c, collisionPosition: s, collisionWidth: D, collisionHeight: S, offset: [p[0] + M[0], p[1] + M[1]], my: n.my, at: n.at, within: x, elem: u });\n        }), n.using && (l = function l(e) {\n          var t = v.left - N.left,\n              i = t + m - d,\n              s = v.top - N.top,\n              a = s + g - c,\n              h = { target: { element: _, left: v.left, top: v.top, width: m, height: g }, element: { element: u, left: N.left, top: N.top, width: d, height: c }, horizontal: 0 > i ? \"left\" : t > 0 ? \"right\" : \"center\", vertical: 0 > a ? \"top\" : s > 0 ? \"bottom\" : \"middle\" };d > m && m > r(t + i) && (h.horizontal = \"center\"), c > g && g > r(s + a) && (h.vertical = \"middle\"), h.important = o(r(t), r(i)) > o(r(s), r(a)) ? \"horizontal\" : \"vertical\", n.using.call(this, e, h);\n        }), u.offset(e.extend(N, { using: l }));\n      });\n    }, e.ui.position = { fit: { left: function left(e, t) {\n          var i,\n              s = t.within,\n              n = s.isWindow ? s.scrollLeft : s.offset.left,\n              a = s.width,\n              r = e.left - t.collisionPosition.marginLeft,\n              h = n - r,\n              l = r + t.collisionWidth - a - n;t.collisionWidth > a ? h > 0 && 0 >= l ? (i = e.left + h + t.collisionWidth - a - n, e.left += h - i) : e.left = l > 0 && 0 >= h ? n : h > l ? n + a - t.collisionWidth : n : h > 0 ? e.left += h : l > 0 ? e.left -= l : e.left = o(e.left - r, e.left);\n        }, top: function top(e, t) {\n          var i,\n              s = t.within,\n              n = s.isWindow ? s.scrollTop : s.offset.top,\n              a = t.within.height,\n              r = e.top - t.collisionPosition.marginTop,\n              h = n - r,\n              l = r + t.collisionHeight - a - n;t.collisionHeight > a ? h > 0 && 0 >= l ? (i = e.top + h + t.collisionHeight - a - n, e.top += h - i) : e.top = l > 0 && 0 >= h ? n : h > l ? n + a - t.collisionHeight : n : h > 0 ? e.top += h : l > 0 ? e.top -= l : e.top = o(e.top - r, e.top);\n        } }, flip: { left: function left(e, t) {\n          var i,\n              s,\n              n = t.within,\n              a = n.offset.left + n.scrollLeft,\n              o = n.width,\n              h = n.isWindow ? n.scrollLeft : n.offset.left,\n              l = e.left - t.collisionPosition.marginLeft,\n              u = l - h,\n              d = l + t.collisionWidth - o - h,\n              c = \"left\" === t.my[0] ? -t.elemWidth : \"right\" === t.my[0] ? t.elemWidth : 0,\n              p = \"left\" === t.at[0] ? t.targetWidth : \"right\" === t.at[0] ? -t.targetWidth : 0,\n              f = -2 * t.offset[0];0 > u ? (i = e.left + c + p + f + t.collisionWidth - o - a, (0 > i || r(u) > i) && (e.left += c + p + f)) : d > 0 && (s = e.left - t.collisionPosition.marginLeft + c + p + f - h, (s > 0 || d > r(s)) && (e.left += c + p + f));\n        }, top: function top(e, t) {\n          var i,\n              s,\n              n = t.within,\n              a = n.offset.top + n.scrollTop,\n              o = n.height,\n              h = n.isWindow ? n.scrollTop : n.offset.top,\n              l = e.top - t.collisionPosition.marginTop,\n              u = l - h,\n              d = l + t.collisionHeight - o - h,\n              c = \"top\" === t.my[1],\n              p = c ? -t.elemHeight : \"bottom\" === t.my[1] ? t.elemHeight : 0,\n              f = \"top\" === t.at[1] ? t.targetHeight : \"bottom\" === t.at[1] ? -t.targetHeight : 0,\n              m = -2 * t.offset[1];0 > u ? (s = e.top + p + f + m + t.collisionHeight - o - a, (0 > s || r(u) > s) && (e.top += p + f + m)) : d > 0 && (i = e.top - t.collisionPosition.marginTop + p + f + m - h, (i > 0 || d > r(i)) && (e.top += p + f + m));\n        } }, flipfit: { left: function left() {\n          e.ui.position.flip.left.apply(this, arguments), e.ui.position.fit.left.apply(this, arguments);\n        }, top: function top() {\n          e.ui.position.flip.top.apply(this, arguments), e.ui.position.fit.top.apply(this, arguments);\n        } } }, function () {\n      var t,\n          i,\n          s,\n          n,\n          o,\n          r = document.getElementsByTagName(\"body\")[0],\n          h = document.createElement(\"div\");t = document.createElement(r ? \"div\" : \"body\"), s = { visibility: \"hidden\", width: 0, height: 0, border: 0, margin: 0, background: \"none\" }, r && e.extend(s, { position: \"absolute\", left: \"-1000px\", top: \"-1000px\" });for (o in s) {\n        t.style[o] = s[o];\n      }t.appendChild(h), i = r || document.documentElement, i.insertBefore(t, i.firstChild), h.style.cssText = \"position: absolute; left: 10.7432222px;\", n = e(h).offset().left, a = n > 10 && 11 > n, t.innerHTML = \"\", i.removeChild(t);\n    }();\n  }(), e.ui.position, e.widget(\"ui.draggable\", e.ui.mouse, { version: \"1.11.4\", widgetEventPrefix: \"drag\", options: { addClasses: !0, appendTo: \"parent\", axis: !1, connectToSortable: !1, containment: !1, cursor: \"auto\", cursorAt: !1, grid: !1, handle: !1, helper: \"original\", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: \"default\", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: \"both\", snapTolerance: 20, stack: !1, zIndex: !1, drag: null, start: null, stop: null }, _create: function _create() {\n      \"original\" === this.options.helper && this._setPositionRelative(), this.options.addClasses && this.element.addClass(\"ui-draggable\"), this.options.disabled && this.element.addClass(\"ui-draggable-disabled\"), this._setHandleClassName(), this._mouseInit();\n    }, _setOption: function _setOption(e, t) {\n      this._super(e, t), \"handle\" === e && (this._removeHandleClassName(), this._setHandleClassName());\n    }, _destroy: function _destroy() {\n      return (this.helper || this.element).is(\".ui-draggable-dragging\") ? (this.destroyOnClear = !0, void 0) : (this.element.removeClass(\"ui-draggable ui-draggable-dragging ui-draggable-disabled\"), this._removeHandleClassName(), this._mouseDestroy(), void 0);\n    }, _mouseCapture: function _mouseCapture(t) {\n      var i = this.options;return this._blurActiveElement(t), this.helper || i.disabled || e(t.target).closest(\".ui-resizable-handle\").length > 0 ? !1 : (this.handle = this._getHandle(t), this.handle ? (this._blockFrames(i.iframeFix === !0 ? \"iframe\" : i.iframeFix), !0) : !1);\n    }, _blockFrames: function _blockFrames(t) {\n      this.iframeBlocks = this.document.find(t).map(function () {\n        var t = e(this);return e(\"<div>\").css(\"position\", \"absolute\").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0];\n      });\n    }, _unblockFrames: function _unblockFrames() {\n      this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks);\n    }, _blurActiveElement: function _blurActiveElement(t) {\n      var i = this.document[0];if (this.handleElement.is(t.target)) try {\n        i.activeElement && \"body\" !== i.activeElement.nodeName.toLowerCase() && e(i.activeElement).blur();\n      } catch (s) {}\n    }, _mouseStart: function _mouseStart(t) {\n      var i = this.options;return this.helper = this._createHelper(t), this.helper.addClass(\"ui-draggable-dragging\"), this._cacheHelperProportions(), e.ui.ddmanager && (e.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css(\"position\"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () {\n        return \"fixed\" === e(this).css(\"position\");\n      }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(t), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger(\"start\", t) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), e.ui.ddmanager && !i.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this._normalizeRightBottom(), this._mouseDrag(t, !0), e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t), !0);\n    }, _refreshOffsets: function _refreshOffsets(e) {\n      this.offset = { top: this.positionAbs.top - this.margins.top, left: this.positionAbs.left - this.margins.left, scroll: !1, parent: this._getParentOffset(), relative: this._getRelativeOffset() }, this.offset.click = { left: e.pageX - this.offset.left, top: e.pageY - this.offset.top };\n    }, _mouseDrag: function _mouseDrag(t, i) {\n      if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo(\"absolute\"), !i) {\n        var s = this._uiHash();if (this._trigger(\"drag\", t, s) === !1) return this._mouseUp({}), !1;this.position = s.position;\n      }return this.helper[0].style.left = this.position.left + \"px\", this.helper[0].style.top = this.position.top + \"px\", e.ui.ddmanager && e.ui.ddmanager.drag(this, t), !1;\n    }, _mouseStop: function _mouseStop(t) {\n      var i = this,\n          s = !1;return e.ui.ddmanager && !this.options.dropBehaviour && (s = e.ui.ddmanager.drop(this, t)), this.dropped && (s = this.dropped, this.dropped = !1), \"invalid\" === this.options.revert && !s || \"valid\" === this.options.revert && s || this.options.revert === !0 || e.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {\n        i._trigger(\"stop\", t) !== !1 && i._clear();\n      }) : this._trigger(\"stop\", t) !== !1 && this._clear(), !1;\n    }, _mouseUp: function _mouseUp(t) {\n      return this._unblockFrames(), e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t), this.handleElement.is(t.target) && this.element.focus(), e.ui.mouse.prototype._mouseUp.call(this, t);\n    }, cancel: function cancel() {\n      return this.helper.is(\".ui-draggable-dragging\") ? this._mouseUp({}) : this._clear(), this;\n    }, _getHandle: function _getHandle(t) {\n      return this.options.handle ? !!e(t.target).closest(this.element.find(this.options.handle)).length : !0;\n    }, _setHandleClassName: function _setHandleClassName() {\n      this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element, this.handleElement.addClass(\"ui-draggable-handle\");\n    }, _removeHandleClassName: function _removeHandleClassName() {\n      this.handleElement.removeClass(\"ui-draggable-handle\");\n    }, _createHelper: function _createHelper(t) {\n      var i = this.options,\n          s = e.isFunction(i.helper),\n          n = s ? e(i.helper.apply(this.element[0], [t])) : \"clone\" === i.helper ? this.element.clone().removeAttr(\"id\") : this.element;return n.parents(\"body\").length || n.appendTo(\"parent\" === i.appendTo ? this.element[0].parentNode : i.appendTo), s && n[0] === this.element[0] && this._setPositionRelative(), n[0] === this.element[0] || /(fixed|absolute)/.test(n.css(\"position\")) || n.css(\"position\", \"absolute\"), n;\n    }, _setPositionRelative: function _setPositionRelative() {\n      /^(?:r|a|f)/.test(this.element.css(\"position\")) || (this.element[0].style.position = \"relative\");\n    }, _adjustOffsetFromHelper: function _adjustOffsetFromHelper(t) {\n      \"string\" == typeof t && (t = t.split(\" \")), e.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }), \"left\" in t && (this.offset.click.left = t.left + this.margins.left), \"right\" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left), \"top\" in t && (this.offset.click.top = t.top + this.margins.top), \"bottom\" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top);\n    }, _isRootNode: function _isRootNode(e) {\n      return (/(html|body)/i.test(e.tagName) || e === this.document[0]\n      );\n    }, _getParentOffset: function _getParentOffset() {\n      var t = this.offsetParent.offset(),\n          i = this.document[0];return \"absolute\" === this.cssPosition && this.scrollParent[0] !== i && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = { top: 0, left: 0 }), { top: t.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"), 10) || 0), left: t.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"), 10) || 0) };\n    }, _getRelativeOffset: function _getRelativeOffset() {\n      if (\"relative\" !== this.cssPosition) return { top: 0, left: 0 };var e = this.element.position(),\n          t = this._isRootNode(this.scrollParent[0]);return { top: e.top - (parseInt(this.helper.css(\"top\"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()), left: e.left - (parseInt(this.helper.css(\"left\"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft()) };\n    }, _cacheMargins: function _cacheMargins() {\n      this.margins = { left: parseInt(this.element.css(\"marginLeft\"), 10) || 0, top: parseInt(this.element.css(\"marginTop\"), 10) || 0, right: parseInt(this.element.css(\"marginRight\"), 10) || 0, bottom: parseInt(this.element.css(\"marginBottom\"), 10) || 0 };\n    }, _cacheHelperProportions: function _cacheHelperProportions() {\n      this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() };\n    }, _setContainment: function _setContainment() {\n      var t,\n          i,\n          s,\n          n = this.options,\n          a = this.document[0];return this.relativeContainer = null, n.containment ? \"window\" === n.containment ? (this.containment = [e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, e(window).scrollLeft() + e(window).width() - this.helperProportions.width - this.margins.left, e(window).scrollTop() + (e(window).height() || a.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], void 0) : \"document\" === n.containment ? (this.containment = [0, 0, e(a).width() - this.helperProportions.width - this.margins.left, (e(a).height() || a.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], void 0) : n.containment.constructor === Array ? (this.containment = n.containment, void 0) : (\"parent\" === n.containment && (n.containment = this.helper[0].parentNode), i = e(n.containment), s = i[0], s && (t = /(scroll|auto)/.test(i.css(\"overflow\")), this.containment = [(parseInt(i.css(\"borderLeftWidth\"), 10) || 0) + (parseInt(i.css(\"paddingLeft\"), 10) || 0), (parseInt(i.css(\"borderTopWidth\"), 10) || 0) + (parseInt(i.css(\"paddingTop\"), 10) || 0), (t ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css(\"borderRightWidth\"), 10) || 0) - (parseInt(i.css(\"paddingRight\"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css(\"borderBottomWidth\"), 10) || 0) - (parseInt(i.css(\"paddingBottom\"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = i), void 0) : (this.containment = null, void 0);\n    }, _convertPositionTo: function _convertPositionTo(e, t) {\n      t || (t = this.position);var i = \"absolute\" === e ? 1 : -1,\n          s = this._isRootNode(this.scrollParent[0]);return { top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - (\"fixed\" === this.cssPosition ? -this.offset.scroll.top : s ? 0 : this.offset.scroll.top) * i, left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - (\"fixed\" === this.cssPosition ? -this.offset.scroll.left : s ? 0 : this.offset.scroll.left) * i };\n    }, _generatePosition: function _generatePosition(e, t) {\n      var i,\n          s,\n          n,\n          a,\n          o = this.options,\n          r = this._isRootNode(this.scrollParent[0]),\n          h = e.pageX,\n          l = e.pageY;return r && this.offset.scroll || (this.offset.scroll = { top: this.scrollParent.scrollTop(), left: this.scrollParent.scrollLeft() }), t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, e.pageX - this.offset.click.left < i[0] && (h = i[0] + this.offset.click.left), e.pageY - this.offset.click.top < i[1] && (l = i[1] + this.offset.click.top), e.pageX - this.offset.click.left > i[2] && (h = i[2] + this.offset.click.left), e.pageY - this.offset.click.top > i[3] && (l = i[3] + this.offset.click.top)), o.grid && (n = o.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY, l = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - o.grid[1] : n + o.grid[1] : n, a = o.grid[0] ? this.originalPageX + Math.round((h - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX, h = i ? a - this.offset.click.left >= i[0] || a - this.offset.click.left > i[2] ? a : a - this.offset.click.left >= i[0] ? a - o.grid[0] : a + o.grid[0] : a), \"y\" === o.axis && (h = this.originalPageX), \"x\" === o.axis && (l = this.originalPageY)), { top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (\"fixed\" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top), left: h - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (\"fixed\" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left) };\n    }, _clear: function _clear() {\n      this.helper.removeClass(\"ui-draggable-dragging\"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy();\n    }, _normalizeRightBottom: function _normalizeRightBottom() {\n      \"y\" !== this.options.axis && \"auto\" !== this.helper.css(\"right\") && (this.helper.width(this.helper.width()), this.helper.css(\"right\", \"auto\")), \"x\" !== this.options.axis && \"auto\" !== this.helper.css(\"bottom\") && (this.helper.height(this.helper.height()), this.helper.css(\"bottom\", \"auto\"));\n    }, _trigger: function _trigger(t, i, s) {\n      return s = s || this._uiHash(), e.ui.plugin.call(this, t, [i, s, this], !0), /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo(\"absolute\"), s.offset = this.positionAbs), e.Widget.prototype._trigger.call(this, t, i, s);\n    }, plugins: {}, _uiHash: function _uiHash() {\n      return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs };\n    } }), e.ui.plugin.add(\"draggable\", \"connectToSortable\", { start: function start(t, i, s) {\n      var n = e.extend({}, i, { item: s.element });s.sortables = [], e(s.options.connectToSortable).each(function () {\n        var i = e(this).sortable(\"instance\");i && !i.options.disabled && (s.sortables.push(i), i.refreshPositions(), i._trigger(\"activate\", t, n));\n      });\n    }, stop: function stop(t, i, s) {\n      var n = e.extend({}, i, { item: s.element });s.cancelHelperRemoval = !1, e.each(s.sortables, function () {\n        var e = this;e.isOver ? (e.isOver = 0, s.cancelHelperRemoval = !0, e.cancelHelperRemoval = !1, e._storedCSS = { position: e.placeholder.css(\"position\"), top: e.placeholder.css(\"top\"), left: e.placeholder.css(\"left\") }, e._mouseStop(t), e.options.helper = e.options._helper) : (e.cancelHelperRemoval = !0, e._trigger(\"deactivate\", t, n));\n      });\n    }, drag: function drag(t, i, s) {\n      e.each(s.sortables, function () {\n        var n = !1,\n            a = this;a.positionAbs = s.positionAbs, a.helperProportions = s.helperProportions, a.offset.click = s.offset.click, a._intersectsWith(a.containerCache) && (n = !0, e.each(s.sortables, function () {\n          return this.positionAbs = s.positionAbs, this.helperProportions = s.helperProportions, this.offset.click = s.offset.click, this !== a && this._intersectsWith(this.containerCache) && e.contains(a.element[0], this.element[0]) && (n = !1), n;\n        })), n ? (a.isOver || (a.isOver = 1, s._parent = i.helper.parent(), a.currentItem = i.helper.appendTo(a.element).data(\"ui-sortable-item\", !0), a.options._helper = a.options.helper, a.options.helper = function () {\n          return i.helper[0];\n        }, t.target = a.currentItem[0], a._mouseCapture(t, !0), a._mouseStart(t, !0, !0), a.offset.click.top = s.offset.click.top, a.offset.click.left = s.offset.click.left, a.offset.parent.left -= s.offset.parent.left - a.offset.parent.left, a.offset.parent.top -= s.offset.parent.top - a.offset.parent.top, s._trigger(\"toSortable\", t), s.dropped = a.element, e.each(s.sortables, function () {\n          this.refreshPositions();\n        }), s.currentItem = s.element, a.fromOutside = s), a.currentItem && (a._mouseDrag(t), i.position = a.position)) : a.isOver && (a.isOver = 0, a.cancelHelperRemoval = !0, a.options._revert = a.options.revert, a.options.revert = !1, a._trigger(\"out\", t, a._uiHash(a)), a._mouseStop(t, !0), a.options.revert = a.options._revert, a.options.helper = a.options._helper, a.placeholder && a.placeholder.remove(), i.helper.appendTo(s._parent), s._refreshOffsets(t), i.position = s._generatePosition(t, !0), s._trigger(\"fromSortable\", t), s.dropped = !1, e.each(s.sortables, function () {\n          this.refreshPositions();\n        }));\n      });\n    } }), e.ui.plugin.add(\"draggable\", \"cursor\", { start: function start(t, i, s) {\n      var n = e(\"body\"),\n          a = s.options;n.css(\"cursor\") && (a._cursor = n.css(\"cursor\")), n.css(\"cursor\", a.cursor);\n    }, stop: function stop(t, i, s) {\n      var n = s.options;n._cursor && e(\"body\").css(\"cursor\", n._cursor);\n    } }), e.ui.plugin.add(\"draggable\", \"opacity\", { start: function start(t, i, s) {\n      var n = e(i.helper),\n          a = s.options;n.css(\"opacity\") && (a._opacity = n.css(\"opacity\")), n.css(\"opacity\", a.opacity);\n    }, stop: function stop(t, i, s) {\n      var n = s.options;n._opacity && e(i.helper).css(\"opacity\", n._opacity);\n    } }), e.ui.plugin.add(\"draggable\", \"scroll\", { start: function start(e, t, i) {\n      i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)), i.scrollParentNotHidden[0] !== i.document[0] && \"HTML\" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset());\n    }, drag: function drag(t, i, s) {\n      var n = s.options,\n          a = !1,\n          o = s.scrollParentNotHidden[0],\n          r = s.document[0];o !== r && \"HTML\" !== o.tagName ? (n.axis && \"x\" === n.axis || (s.overflowOffset.top + o.offsetHeight - t.pageY < n.scrollSensitivity ? o.scrollTop = a = o.scrollTop + n.scrollSpeed : t.pageY - s.overflowOffset.top < n.scrollSensitivity && (o.scrollTop = a = o.scrollTop - n.scrollSpeed)), n.axis && \"y\" === n.axis || (s.overflowOffset.left + o.offsetWidth - t.pageX < n.scrollSensitivity ? o.scrollLeft = a = o.scrollLeft + n.scrollSpeed : t.pageX - s.overflowOffset.left < n.scrollSensitivity && (o.scrollLeft = a = o.scrollLeft - n.scrollSpeed))) : (n.axis && \"x\" === n.axis || (t.pageY - e(r).scrollTop() < n.scrollSensitivity ? a = e(r).scrollTop(e(r).scrollTop() - n.scrollSpeed) : e(window).height() - (t.pageY - e(r).scrollTop()) < n.scrollSensitivity && (a = e(r).scrollTop(e(r).scrollTop() + n.scrollSpeed))), n.axis && \"y\" === n.axis || (t.pageX - e(r).scrollLeft() < n.scrollSensitivity ? a = e(r).scrollLeft(e(r).scrollLeft() - n.scrollSpeed) : e(window).width() - (t.pageX - e(r).scrollLeft()) < n.scrollSensitivity && (a = e(r).scrollLeft(e(r).scrollLeft() + n.scrollSpeed)))), a !== !1 && e.ui.ddmanager && !n.dropBehaviour && e.ui.ddmanager.prepareOffsets(s, t);\n    } }), e.ui.plugin.add(\"draggable\", \"snap\", { start: function start(t, i, s) {\n      var n = s.options;s.snapElements = [], e(n.snap.constructor !== String ? n.snap.items || \":data(ui-draggable)\" : n.snap).each(function () {\n        var t = e(this),\n            i = t.offset();this !== s.element[0] && s.snapElements.push({ item: this, width: t.outerWidth(), height: t.outerHeight(), top: i.top, left: i.left });\n      });\n    }, drag: function drag(t, i, s) {\n      var n,\n          a,\n          o,\n          r,\n          h,\n          l,\n          u,\n          d,\n          c,\n          p,\n          f = s.options,\n          m = f.snapTolerance,\n          g = i.offset.left,\n          v = g + s.helperProportions.width,\n          y = i.offset.top,\n          b = y + s.helperProportions.height;for (c = s.snapElements.length - 1; c >= 0; c--) {\n        h = s.snapElements[c].left - s.margins.left, l = h + s.snapElements[c].width, u = s.snapElements[c].top - s.margins.top, d = u + s.snapElements[c].height, h - m > v || g > l + m || u - m > b || y > d + m || !e.contains(s.snapElements[c].item.ownerDocument, s.snapElements[c].item) ? (s.snapElements[c].snapping && s.options.snap.release && s.options.snap.release.call(s.element, t, e.extend(s._uiHash(), { snapItem: s.snapElements[c].item })), s.snapElements[c].snapping = !1) : (\"inner\" !== f.snapMode && (n = m >= Math.abs(u - b), a = m >= Math.abs(d - y), o = m >= Math.abs(h - v), r = m >= Math.abs(l - g), n && (i.position.top = s._convertPositionTo(\"relative\", { top: u - s.helperProportions.height, left: 0 }).top), a && (i.position.top = s._convertPositionTo(\"relative\", { top: d, left: 0 }).top), o && (i.position.left = s._convertPositionTo(\"relative\", { top: 0, left: h - s.helperProportions.width }).left), r && (i.position.left = s._convertPositionTo(\"relative\", { top: 0, left: l }).left)), p = n || a || o || r, \"outer\" !== f.snapMode && (n = m >= Math.abs(u - y), a = m >= Math.abs(d - b), o = m >= Math.abs(h - g), r = m >= Math.abs(l - v), n && (i.position.top = s._convertPositionTo(\"relative\", { top: u, left: 0 }).top), a && (i.position.top = s._convertPositionTo(\"relative\", { top: d - s.helperProportions.height, left: 0 }).top), o && (i.position.left = s._convertPositionTo(\"relative\", { top: 0, left: h }).left), r && (i.position.left = s._convertPositionTo(\"relative\", { top: 0, left: l - s.helperProportions.width }).left)), !s.snapElements[c].snapping && (n || a || o || r || p) && s.options.snap.snap && s.options.snap.snap.call(s.element, t, e.extend(s._uiHash(), { snapItem: s.snapElements[c].item })), s.snapElements[c].snapping = n || a || o || r || p);\n      }\n    } }), e.ui.plugin.add(\"draggable\", \"stack\", { start: function start(t, i, s) {\n      var n,\n          a = s.options,\n          o = e.makeArray(e(a.stack)).sort(function (t, i) {\n        return (parseInt(e(t).css(\"zIndex\"), 10) || 0) - (parseInt(e(i).css(\"zIndex\"), 10) || 0);\n      });o.length && (n = parseInt(e(o[0]).css(\"zIndex\"), 10) || 0, e(o).each(function (t) {\n        e(this).css(\"zIndex\", n + t);\n      }), this.css(\"zIndex\", n + o.length));\n    } }), e.ui.plugin.add(\"draggable\", \"zIndex\", { start: function start(t, i, s) {\n      var n = e(i.helper),\n          a = s.options;n.css(\"zIndex\") && (a._zIndex = n.css(\"zIndex\")), n.css(\"zIndex\", a.zIndex);\n    }, stop: function stop(t, i, s) {\n      var n = s.options;n._zIndex && e(i.helper).css(\"zIndex\", n._zIndex);\n    } }), e.ui.draggable, e.widget(\"ui.droppable\", { version: \"1.11.4\", widgetEventPrefix: \"drop\", options: { accept: \"*\", activeClass: !1, addClasses: !0, greedy: !1, hoverClass: !1, scope: \"default\", tolerance: \"intersect\", activate: null, deactivate: null, drop: null, out: null, over: null }, _create: function _create() {\n      var t,\n          i = this.options,\n          s = i.accept;this.isover = !1, this.isout = !0, this.accept = e.isFunction(s) ? s : function (e) {\n        return e.is(s);\n      }, this.proportions = function () {\n        return arguments.length ? (t = arguments[0], void 0) : t ? t : t = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight };\n      }, this._addToManager(i.scope), i.addClasses && this.element.addClass(\"ui-droppable\");\n    }, _addToManager: function _addToManager(t) {\n      e.ui.ddmanager.droppables[t] = e.ui.ddmanager.droppables[t] || [], e.ui.ddmanager.droppables[t].push(this);\n    }, _splice: function _splice(e) {\n      for (var t = 0; e.length > t; t++) {\n        e[t] === this && e.splice(t, 1);\n      }\n    }, _destroy: function _destroy() {\n      var t = e.ui.ddmanager.droppables[this.options.scope];this._splice(t), this.element.removeClass(\"ui-droppable ui-droppable-disabled\");\n    }, _setOption: function _setOption(t, i) {\n      if (\"accept\" === t) this.accept = e.isFunction(i) ? i : function (e) {\n        return e.is(i);\n      };else if (\"scope\" === t) {\n        var s = e.ui.ddmanager.droppables[this.options.scope];this._splice(s), this._addToManager(i);\n      }this._super(t, i);\n    }, _activate: function _activate(t) {\n      var i = e.ui.ddmanager.current;this.options.activeClass && this.element.addClass(this.options.activeClass), i && this._trigger(\"activate\", t, this.ui(i));\n    }, _deactivate: function _deactivate(t) {\n      var i = e.ui.ddmanager.current;this.options.activeClass && this.element.removeClass(this.options.activeClass), i && this._trigger(\"deactivate\", t, this.ui(i));\n    }, _over: function _over(t) {\n      var i = e.ui.ddmanager.current;i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger(\"over\", t, this.ui(i)));\n    }, _out: function _out(t) {\n      var i = e.ui.ddmanager.current;i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger(\"out\", t, this.ui(i)));\n    }, _drop: function _drop(t, i) {\n      var s = i || e.ui.ddmanager.current,\n          n = !1;return s && (s.currentItem || s.element)[0] !== this.element[0] ? (this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function () {\n        var i = e(this).droppable(\"instance\");return i.options.greedy && !i.options.disabled && i.options.scope === s.options.scope && i.accept.call(i.element[0], s.currentItem || s.element) && e.ui.intersect(s, e.extend(i, { offset: i.element.offset() }), i.options.tolerance, t) ? (n = !0, !1) : void 0;\n      }), n ? !1 : this.accept.call(this.element[0], s.currentItem || s.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger(\"drop\", t, this.ui(s)), this.element) : !1) : !1;\n    }, ui: function ui(e) {\n      return { draggable: e.currentItem || e.element, helper: e.helper, position: e.position, offset: e.positionAbs };\n    } }), e.ui.intersect = function () {\n    function e(e, t, i) {\n      return e >= t && t + i > e;\n    }return function (t, i, s, n) {\n      if (!i.offset) return !1;var a = (t.positionAbs || t.position.absolute).left + t.margins.left,\n          o = (t.positionAbs || t.position.absolute).top + t.margins.top,\n          r = a + t.helperProportions.width,\n          h = o + t.helperProportions.height,\n          l = i.offset.left,\n          u = i.offset.top,\n          d = l + i.proportions().width,\n          c = u + i.proportions().height;switch (s) {case \"fit\":\n          return a >= l && d >= r && o >= u && c >= h;case \"intersect\":\n          return a + t.helperProportions.width / 2 > l && d > r - t.helperProportions.width / 2 && o + t.helperProportions.height / 2 > u && c > h - t.helperProportions.height / 2;case \"pointer\":\n          return e(n.pageY, u, i.proportions().height) && e(n.pageX, l, i.proportions().width);case \"touch\":\n          return (o >= u && c >= o || h >= u && c >= h || u > o && h > c) && (a >= l && d >= a || r >= l && d >= r || l > a && r > d);default:\n          return !1;}\n    };\n  }(), e.ui.ddmanager = { current: null, droppables: { \"default\": [] }, prepareOffsets: function prepareOffsets(t, i) {\n      var s,\n          n,\n          a = e.ui.ddmanager.droppables[t.options.scope] || [],\n          o = i ? i.type : null,\n          r = (t.currentItem || t.element).find(\":data(ui-droppable)\").addBack();e: for (s = 0; a.length > s; s++) {\n        if (!(a[s].options.disabled || t && !a[s].accept.call(a[s].element[0], t.currentItem || t.element))) {\n          for (n = 0; r.length > n; n++) {\n            if (r[n] === a[s].element[0]) {\n              a[s].proportions().height = 0;continue e;\n            }\n          }a[s].visible = \"none\" !== a[s].element.css(\"display\"), a[s].visible && (\"mousedown\" === o && a[s]._activate.call(a[s], i), a[s].offset = a[s].element.offset(), a[s].proportions({ width: a[s].element[0].offsetWidth, height: a[s].element[0].offsetHeight }));\n        }\n      }\n    }, drop: function drop(t, i) {\n      var s = !1;return e.each((e.ui.ddmanager.droppables[t.options.scope] || []).slice(), function () {\n        this.options && (!this.options.disabled && this.visible && e.ui.intersect(t, this, this.options.tolerance, i) && (s = this._drop.call(this, i) || s), !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, i)));\n      }), s;\n    }, dragStart: function dragStart(t, i) {\n      t.element.parentsUntil(\"body\").bind(\"scroll.droppable\", function () {\n        t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, i);\n      });\n    }, drag: function drag(t, i) {\n      t.options.refreshPositions && e.ui.ddmanager.prepareOffsets(t, i), e.each(e.ui.ddmanager.droppables[t.options.scope] || [], function () {\n        if (!this.options.disabled && !this.greedyChild && this.visible) {\n          var s,\n              n,\n              a,\n              o = e.ui.intersect(t, this, this.options.tolerance, i),\n              r = !o && this.isover ? \"isout\" : o && !this.isover ? \"isover\" : null;r && (this.options.greedy && (n = this.options.scope, a = this.element.parents(\":data(ui-droppable)\").filter(function () {\n            return e(this).droppable(\"instance\").options.scope === n;\n          }), a.length && (s = e(a[0]).droppable(\"instance\"), s.greedyChild = \"isover\" === r)), s && \"isover\" === r && (s.isover = !1, s.isout = !0, s._out.call(s, i)), this[r] = !0, this[\"isout\" === r ? \"isover\" : \"isout\"] = !1, this[\"isover\" === r ? \"_over\" : \"_out\"].call(this, i), s && \"isout\" === r && (s.isout = !1, s.isover = !0, s._over.call(s, i)));\n        }\n      });\n    }, dragStop: function dragStop(t, i) {\n      t.element.parentsUntil(\"body\").unbind(\"scroll.droppable\"), t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, i);\n    } }, e.ui.droppable, e.widget(\"ui.tooltip\", { version: \"1.11.4\", options: { content: function content() {\n        var t = e(this).attr(\"title\") || \"\";return e(\"<a>\").text(t).html();\n      }, hide: !0, items: \"[title]:not([disabled])\", position: { my: \"left top+15\", at: \"left bottom\", collision: \"flipfit flip\" }, show: !0, tooltipClass: null, track: !1, close: null, open: null }, _addDescribedBy: function _addDescribedBy(t, i) {\n      var s = (t.attr(\"aria-describedby\") || \"\").split(/\\s+/);s.push(i), t.data(\"ui-tooltip-id\", i).attr(\"aria-describedby\", e.trim(s.join(\" \")));\n    }, _removeDescribedBy: function _removeDescribedBy(t) {\n      var i = t.data(\"ui-tooltip-id\"),\n          s = (t.attr(\"aria-describedby\") || \"\").split(/\\s+/),\n          n = e.inArray(i, s);-1 !== n && s.splice(n, 1), t.removeData(\"ui-tooltip-id\"), s = e.trim(s.join(\" \")), s ? t.attr(\"aria-describedby\", s) : t.removeAttr(\"aria-describedby\");\n    }, _create: function _create() {\n      this._on({ mouseover: \"open\", focusin: \"open\" }), this.tooltips = {}, this.parents = {}, this.options.disabled && this._disable(), this.liveRegion = e(\"<div>\").attr({ role: \"log\", \"aria-live\": \"assertive\", \"aria-relevant\": \"additions\" }).addClass(\"ui-helper-hidden-accessible\").appendTo(this.document[0].body);\n    }, _setOption: function _setOption(t, i) {\n      var s = this;return \"disabled\" === t ? (this[i ? \"_disable\" : \"_enable\"](), this.options[t] = i, void 0) : (this._super(t, i), \"content\" === t && e.each(this.tooltips, function (e, t) {\n        s._updateContent(t.element);\n      }), void 0);\n    }, _disable: function _disable() {\n      var t = this;e.each(this.tooltips, function (i, s) {\n        var n = e.Event(\"blur\");n.target = n.currentTarget = s.element[0], t.close(n, !0);\n      }), this.element.find(this.options.items).addBack().each(function () {\n        var t = e(this);t.is(\"[title]\") && t.data(\"ui-tooltip-title\", t.attr(\"title\")).removeAttr(\"title\");\n      });\n    }, _enable: function _enable() {\n      this.element.find(this.options.items).addBack().each(function () {\n        var t = e(this);t.data(\"ui-tooltip-title\") && t.attr(\"title\", t.data(\"ui-tooltip-title\"));\n      });\n    }, open: function open(t) {\n      var i = this,\n          s = e(t ? t.target : this.element).closest(this.options.items);s.length && !s.data(\"ui-tooltip-id\") && (s.attr(\"title\") && s.data(\"ui-tooltip-title\", s.attr(\"title\")), s.data(\"ui-tooltip-open\", !0), t && \"mouseover\" === t.type && s.parents().each(function () {\n        var t,\n            s = e(this);s.data(\"ui-tooltip-open\") && (t = e.Event(\"blur\"), t.target = t.currentTarget = this, i.close(t, !0)), s.attr(\"title\") && (s.uniqueId(), i.parents[this.id] = { element: this, title: s.attr(\"title\") }, s.attr(\"title\", \"\"));\n      }), this._registerCloseHandlers(t, s), this._updateContent(s, t));\n    }, _updateContent: function _updateContent(e, t) {\n      var i,\n          s = this.options.content,\n          n = this,\n          a = t ? t.type : null;return \"string\" == typeof s ? this._open(t, e, s) : (i = s.call(e[0], function (i) {\n        n._delay(function () {\n          e.data(\"ui-tooltip-open\") && (t && (t.type = a), this._open(t, e, i));\n        });\n      }), i && this._open(t, e, i), void 0);\n    }, _open: function _open(t, i, s) {\n      function n(e) {\n        l.of = e, o.is(\":hidden\") || o.position(l);\n      }var a,\n          o,\n          r,\n          h,\n          l = e.extend({}, this.options.position);if (s) {\n        if (a = this._find(i)) return a.tooltip.find(\".ui-tooltip-content\").html(s), void 0;i.is(\"[title]\") && (t && \"mouseover\" === t.type ? i.attr(\"title\", \"\") : i.removeAttr(\"title\")), a = this._tooltip(i), o = a.tooltip, this._addDescribedBy(i, o.attr(\"id\")), o.find(\".ui-tooltip-content\").html(s), this.liveRegion.children().hide(), s.clone ? (h = s.clone(), h.removeAttr(\"id\").find(\"[id]\").removeAttr(\"id\")) : h = s, e(\"<div>\").html(h).appendTo(this.liveRegion), this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, { mousemove: n }), n(t)) : o.position(e.extend({ of: i }, this.options.position)), o.hide(), this._show(o, this.options.show), this.options.show && this.options.show.delay && (r = this.delayedShow = setInterval(function () {\n          o.is(\":visible\") && (n(l.of), clearInterval(r));\n        }, e.fx.interval)), this._trigger(\"open\", t, { tooltip: o });\n      }\n    }, _registerCloseHandlers: function _registerCloseHandlers(t, i) {\n      var s = { keyup: function keyup(t) {\n          if (t.keyCode === e.ui.keyCode.ESCAPE) {\n            var s = e.Event(t);s.currentTarget = i[0], this.close(s, !0);\n          }\n        } };i[0] !== this.element[0] && (s.remove = function () {\n        this._removeTooltip(this._find(i).tooltip);\n      }), t && \"mouseover\" !== t.type || (s.mouseleave = \"close\"), t && \"focusin\" !== t.type || (s.focusout = \"close\"), this._on(!0, i, s);\n    }, close: function close(t) {\n      var i,\n          s = this,\n          n = e(t ? t.currentTarget : this.element),\n          a = this._find(n);return a ? (i = a.tooltip, a.closing || (clearInterval(this.delayedShow), n.data(\"ui-tooltip-title\") && !n.attr(\"title\") && n.attr(\"title\", n.data(\"ui-tooltip-title\")), this._removeDescribedBy(n), a.hiding = !0, i.stop(!0), this._hide(i, this.options.hide, function () {\n        s._removeTooltip(e(this));\n      }), n.removeData(\"ui-tooltip-open\"), this._off(n, \"mouseleave focusout keyup\"), n[0] !== this.element[0] && this._off(n, \"remove\"), this._off(this.document, \"mousemove\"), t && \"mouseleave\" === t.type && e.each(this.parents, function (t, i) {\n        e(i.element).attr(\"title\", i.title), delete s.parents[t];\n      }), a.closing = !0, this._trigger(\"close\", t, { tooltip: i }), a.hiding || (a.closing = !1)), void 0) : (n.removeData(\"ui-tooltip-open\"), void 0);\n    }, _tooltip: function _tooltip(t) {\n      var i = e(\"<div>\").attr(\"role\", \"tooltip\").addClass(\"ui-tooltip ui-widget ui-corner-all ui-widget-content \" + (this.options.tooltipClass || \"\")),\n          s = i.uniqueId().attr(\"id\");return e(\"<div>\").addClass(\"ui-tooltip-content\").appendTo(i), i.appendTo(this.document[0].body), this.tooltips[s] = { element: t, tooltip: i };\n    }, _find: function _find(e) {\n      var t = e.data(\"ui-tooltip-id\");return t ? this.tooltips[t] : null;\n    }, _removeTooltip: function _removeTooltip(e) {\n      e.remove(), delete this.tooltips[e.attr(\"id\")];\n    }, _destroy: function _destroy() {\n      var t = this;e.each(this.tooltips, function (i, s) {\n        var n = e.Event(\"blur\"),\n            a = s.element;n.target = n.currentTarget = a[0], t.close(n, !0), e(\"#\" + i).remove(), a.data(\"ui-tooltip-title\") && (a.attr(\"title\") || a.attr(\"title\", a.data(\"ui-tooltip-title\")), a.removeData(\"ui-tooltip-title\"));\n      }), this.liveRegion.remove();\n    } });var o = \"ui-effects-\",\n      r = e;e.effects = { effect: {} }, function (e, t) {\n    function i(e, t, i) {\n      var s = d[t.type] || {};return null == e ? i || !t.def ? null : t.def : (e = s.floor ? ~~e : parseFloat(e), isNaN(e) ? t.def : s.mod ? (e + s.mod) % s.mod : 0 > e ? 0 : e > s.max ? s.max : e);\n    }function s(i) {\n      var s = l(),\n          n = s._rgba = [];return i = i.toLowerCase(), f(h, function (e, a) {\n        var o,\n            r = a.re.exec(i),\n            h = r && a.parse(r),\n            l = a.space || \"rgba\";return h ? (o = s[l](h), s[u[l].cache] = o[u[l].cache], n = s._rgba = o._rgba, !1) : t;\n      }), n.length ? (\"0,0,0,0\" === n.join() && e.extend(n, a.transparent), s) : a[i];\n    }function n(e, t, i) {\n      return i = (i + 1) % 1, 1 > 6 * i ? e + 6 * (t - e) * i : 1 > 2 * i ? t : 2 > 3 * i ? e + 6 * (t - e) * (2 / 3 - i) : e;\n    }var a,\n        o = \"backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor\",\n        r = /^([\\-+])=\\s*(\\d+\\.?\\d*)/,\n        h = [{ re: /rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/, parse: function parse(e) {\n        return [e[1], e[2], e[3], e[4]];\n      } }, { re: /rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/, parse: function parse(e) {\n        return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]];\n      } }, { re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/, parse: function parse(e) {\n        return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)];\n      } }, { re: /#([a-f0-9])([a-f0-9])([a-f0-9])/, parse: function parse(e) {\n        return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)];\n      } }, { re: /hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/, space: \"hsla\", parse: function parse(e) {\n        return [e[1], e[2] / 100, e[3] / 100, e[4]];\n      } }],\n        l = e.Color = function (t, i, s, n) {\n      return new e.Color.fn.parse(t, i, s, n);\n    },\n        u = { rgba: { props: { red: { idx: 0, type: \"byte\" }, green: { idx: 1, type: \"byte\" }, blue: { idx: 2, type: \"byte\" } } }, hsla: { props: { hue: { idx: 0, type: \"degrees\" }, saturation: { idx: 1, type: \"percent\" }, lightness: { idx: 2, type: \"percent\" } } } },\n        d = { \"byte\": { floor: !0, max: 255 }, percent: { max: 1 }, degrees: { mod: 360, floor: !0 } },\n        c = l.support = {},\n        p = e(\"<p>\")[0],\n        f = e.each;p.style.cssText = \"background-color:rgba(1,1,1,.5)\", c.rgba = p.style.backgroundColor.indexOf(\"rgba\") > -1, f(u, function (e, t) {\n      t.cache = \"_\" + e, t.props.alpha = { idx: 3, type: \"percent\", def: 1 };\n    }), l.fn = e.extend(l.prototype, { parse: function parse(n, o, r, h) {\n        if (n === t) return this._rgba = [null, null, null, null], this;(n.jquery || n.nodeType) && (n = e(n).css(o), o = t);var d = this,\n            c = e.type(n),\n            p = this._rgba = [];return o !== t && (n = [n, o, r, h], c = \"array\"), \"string\" === c ? this.parse(s(n) || a._default) : \"array\" === c ? (f(u.rgba.props, function (e, t) {\n          p[t.idx] = i(n[t.idx], t);\n        }), this) : \"object\" === c ? (n instanceof l ? f(u, function (e, t) {\n          n[t.cache] && (d[t.cache] = n[t.cache].slice());\n        }) : f(u, function (t, s) {\n          var a = s.cache;f(s.props, function (e, t) {\n            if (!d[a] && s.to) {\n              if (\"alpha\" === e || null == n[e]) return;d[a] = s.to(d._rgba);\n            }d[a][t.idx] = i(n[e], t, !0);\n          }), d[a] && 0 > e.inArray(null, d[a].slice(0, 3)) && (d[a][3] = 1, s.from && (d._rgba = s.from(d[a])));\n        }), this) : t;\n      }, is: function is(e) {\n        var i = l(e),\n            s = !0,\n            n = this;return f(u, function (e, a) {\n          var o,\n              r = i[a.cache];return r && (o = n[a.cache] || a.to && a.to(n._rgba) || [], f(a.props, function (e, i) {\n            return null != r[i.idx] ? s = r[i.idx] === o[i.idx] : t;\n          })), s;\n        }), s;\n      }, _space: function _space() {\n        var e = [],\n            t = this;return f(u, function (i, s) {\n          t[s.cache] && e.push(i);\n        }), e.pop();\n      }, transition: function transition(e, t) {\n        var s = l(e),\n            n = s._space(),\n            a = u[n],\n            o = 0 === this.alpha() ? l(\"transparent\") : this,\n            r = o[a.cache] || a.to(o._rgba),\n            h = r.slice();return s = s[a.cache], f(a.props, function (e, n) {\n          var a = n.idx,\n              o = r[a],\n              l = s[a],\n              u = d[n.type] || {};null !== l && (null === o ? h[a] = l : (u.mod && (l - o > u.mod / 2 ? o += u.mod : o - l > u.mod / 2 && (o -= u.mod)), h[a] = i((l - o) * t + o, n)));\n        }), this[n](h);\n      }, blend: function blend(t) {\n        if (1 === this._rgba[3]) return this;var i = this._rgba.slice(),\n            s = i.pop(),\n            n = l(t)._rgba;return l(e.map(i, function (e, t) {\n          return (1 - s) * n[t] + s * e;\n        }));\n      }, toRgbaString: function toRgbaString() {\n        var t = \"rgba(\",\n            i = e.map(this._rgba, function (e, t) {\n          return null == e ? t > 2 ? 1 : 0 : e;\n        });return 1 === i[3] && (i.pop(), t = \"rgb(\"), t + i.join() + \")\";\n      }, toHslaString: function toHslaString() {\n        var t = \"hsla(\",\n            i = e.map(this.hsla(), function (e, t) {\n          return null == e && (e = t > 2 ? 1 : 0), t && 3 > t && (e = Math.round(100 * e) + \"%\"), e;\n        });return 1 === i[3] && (i.pop(), t = \"hsl(\"), t + i.join() + \")\";\n      }, toHexString: function toHexString(t) {\n        var i = this._rgba.slice(),\n            s = i.pop();return t && i.push(~~(255 * s)), \"#\" + e.map(i, function (e) {\n          return e = (e || 0).toString(16), 1 === e.length ? \"0\" + e : e;\n        }).join(\"\");\n      }, toString: function toString() {\n        return 0 === this._rgba[3] ? \"transparent\" : this.toRgbaString();\n      } }), l.fn.parse.prototype = l.fn, u.hsla.to = function (e) {\n      if (null == e[0] || null == e[1] || null == e[2]) return [null, null, null, e[3]];var t,\n          i,\n          s = e[0] / 255,\n          n = e[1] / 255,\n          a = e[2] / 255,\n          o = e[3],\n          r = Math.max(s, n, a),\n          h = Math.min(s, n, a),\n          l = r - h,\n          u = r + h,\n          d = .5 * u;return t = h === r ? 0 : s === r ? 60 * (n - a) / l + 360 : n === r ? 60 * (a - s) / l + 120 : 60 * (s - n) / l + 240, i = 0 === l ? 0 : .5 >= d ? l / u : l / (2 - u), [Math.round(t) % 360, i, d, null == o ? 1 : o];\n    }, u.hsla.from = function (e) {\n      if (null == e[0] || null == e[1] || null == e[2]) return [null, null, null, e[3]];var t = e[0] / 360,\n          i = e[1],\n          s = e[2],\n          a = e[3],\n          o = .5 >= s ? s * (1 + i) : s + i - s * i,\n          r = 2 * s - o;return [Math.round(255 * n(r, o, t + 1 / 3)), Math.round(255 * n(r, o, t)), Math.round(255 * n(r, o, t - 1 / 3)), a];\n    }, f(u, function (s, n) {\n      var a = n.props,\n          o = n.cache,\n          h = n.to,\n          u = n.from;l.fn[s] = function (s) {\n        if (h && !this[o] && (this[o] = h(this._rgba)), s === t) return this[o].slice();var n,\n            r = e.type(s),\n            d = \"array\" === r || \"object\" === r ? s : arguments,\n            c = this[o].slice();return f(a, function (e, t) {\n          var s = d[\"object\" === r ? e : t.idx];null == s && (s = c[t.idx]), c[t.idx] = i(s, t);\n        }), u ? (n = l(u(c)), n[o] = c, n) : l(c);\n      }, f(a, function (t, i) {\n        l.fn[t] || (l.fn[t] = function (n) {\n          var a,\n              o = e.type(n),\n              h = \"alpha\" === t ? this._hsla ? \"hsla\" : \"rgba\" : s,\n              l = this[h](),\n              u = l[i.idx];return \"undefined\" === o ? u : (\"function\" === o && (n = n.call(this, u), o = e.type(n)), null == n && i.empty ? this : (\"string\" === o && (a = r.exec(n), a && (n = u + parseFloat(a[2]) * (\"+\" === a[1] ? 1 : -1))), l[i.idx] = n, this[h](l)));\n        });\n      });\n    }), l.hook = function (t) {\n      var i = t.split(\" \");f(i, function (t, i) {\n        e.cssHooks[i] = { set: function set(t, n) {\n            var a,\n                o,\n                r = \"\";if (\"transparent\" !== n && (\"string\" !== e.type(n) || (a = s(n)))) {\n              if (n = l(a || n), !c.rgba && 1 !== n._rgba[3]) {\n                for (o = \"backgroundColor\" === i ? t.parentNode : t; (\"\" === r || \"transparent\" === r) && o && o.style;) {\n                  try {\n                    r = e.css(o, \"backgroundColor\"), o = o.parentNode;\n                  } catch (h) {}\n                }n = n.blend(r && \"transparent\" !== r ? r : \"_default\");\n              }n = n.toRgbaString();\n            }try {\n              t.style[i] = n;\n            } catch (h) {}\n          } }, e.fx.step[i] = function (t) {\n          t.colorInit || (t.start = l(t.elem, i), t.end = l(t.end), t.colorInit = !0), e.cssHooks[i].set(t.elem, t.start.transition(t.end, t.pos));\n        };\n      });\n    }, l.hook(o), e.cssHooks.borderColor = { expand: function expand(e) {\n        var t = {};return f([\"Top\", \"Right\", \"Bottom\", \"Left\"], function (i, s) {\n          t[\"border\" + s + \"Color\"] = e;\n        }), t;\n      } }, a = e.Color.names = { aqua: \"#00ffff\", black: \"#000000\", blue: \"#0000ff\", fuchsia: \"#ff00ff\", gray: \"#808080\", green: \"#008000\", lime: \"#00ff00\", maroon: \"#800000\", navy: \"#000080\", olive: \"#808000\", purple: \"#800080\", red: \"#ff0000\", silver: \"#c0c0c0\", teal: \"#008080\", white: \"#ffffff\", yellow: \"#ffff00\", transparent: [null, null, null, 0], _default: \"#ffffff\" };\n  }(r), function () {\n    function t(t) {\n      var i,\n          s,\n          n = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle,\n          a = {};if (n && n.length && n[0] && n[n[0]]) for (s = n.length; s--;) {\n        i = n[s], \"string\" == typeof n[i] && (a[e.camelCase(i)] = n[i]);\n      } else for (i in n) {\n        \"string\" == typeof n[i] && (a[i] = n[i]);\n      }return a;\n    }function i(t, i) {\n      var s,\n          a,\n          o = {};for (s in i) {\n        a = i[s], t[s] !== a && (n[s] || (e.fx.step[s] || !isNaN(parseFloat(a))) && (o[s] = a));\n      }return o;\n    }var s = [\"add\", \"remove\", \"toggle\"],\n        n = { border: 1, borderBottom: 1, borderColor: 1, borderLeft: 1, borderRight: 1, borderTop: 1, borderWidth: 1, margin: 1, padding: 1 };e.each([\"borderLeftStyle\", \"borderRightStyle\", \"borderBottomStyle\", \"borderTopStyle\"], function (t, i) {\n      e.fx.step[i] = function (e) {\n        (\"none\" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) && (r.style(e.elem, i, e.end), e.setAttr = !0);\n      };\n    }), e.fn.addBack || (e.fn.addBack = function (e) {\n      return this.add(null == e ? this.prevObject : this.prevObject.filter(e));\n    }), e.effects.animateClass = function (n, a, o, r) {\n      var h = e.speed(a, o, r);return this.queue(function () {\n        var a,\n            o = e(this),\n            r = o.attr(\"class\") || \"\",\n            l = h.children ? o.find(\"*\").addBack() : o;l = l.map(function () {\n          var i = e(this);return { el: i, start: t(this) };\n        }), a = function a() {\n          e.each(s, function (e, t) {\n            n[t] && o[t + \"Class\"](n[t]);\n          });\n        }, a(), l = l.map(function () {\n          return this.end = t(this.el[0]), this.diff = i(this.start, this.end), this;\n        }), o.attr(\"class\", r), l = l.map(function () {\n          var t = this,\n              i = e.Deferred(),\n              s = e.extend({}, h, { queue: !1, complete: function complete() {\n              i.resolve(t);\n            } });return this.el.animate(this.diff, s), i.promise();\n        }), e.when.apply(e, l.get()).done(function () {\n          a(), e.each(arguments, function () {\n            var t = this.el;e.each(this.diff, function (e) {\n              t.css(e, \"\");\n            });\n          }), h.complete.call(o[0]);\n        });\n      });\n    }, e.fn.extend({ addClass: function (t) {\n        return function (i, s, n, a) {\n          return s ? e.effects.animateClass.call(this, { add: i }, s, n, a) : t.apply(this, arguments);\n        };\n      }(e.fn.addClass), removeClass: function (t) {\n        return function (i, s, n, a) {\n          return arguments.length > 1 ? e.effects.animateClass.call(this, { remove: i }, s, n, a) : t.apply(this, arguments);\n        };\n      }(e.fn.removeClass), toggleClass: function (t) {\n        return function (i, s, n, a, o) {\n          return \"boolean\" == typeof s || void 0 === s ? n ? e.effects.animateClass.call(this, s ? { add: i } : { remove: i }, n, a, o) : t.apply(this, arguments) : e.effects.animateClass.call(this, { toggle: i }, s, n, a);\n        };\n      }(e.fn.toggleClass), switchClass: function switchClass(t, i, s, n, a) {\n        return e.effects.animateClass.call(this, { add: i, remove: t }, s, n, a);\n      } });\n  }(), function () {\n    function t(t, i, s, n) {\n      return e.isPlainObject(t) && (i = t, t = t.effect), t = { effect: t }, null == i && (i = {}), e.isFunction(i) && (n = i, s = null, i = {}), (\"number\" == typeof i || e.fx.speeds[i]) && (n = s, s = i, i = {}), e.isFunction(s) && (n = s, s = null), i && e.extend(t, i), s = s || i.duration, t.duration = e.fx.off ? 0 : \"number\" == typeof s ? s : s in e.fx.speeds ? e.fx.speeds[s] : e.fx.speeds._default, t.complete = n || i.complete, t;\n    }function i(t) {\n      return !t || \"number\" == typeof t || e.fx.speeds[t] ? !0 : \"string\" != typeof t || e.effects.effect[t] ? e.isFunction(t) ? !0 : \"object\" != (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) || t.effect ? !1 : !0 : !0;\n    }e.extend(e.effects, { version: \"1.11.4\", save: function save(e, t) {\n        for (var i = 0; t.length > i; i++) {\n          null !== t[i] && e.data(o + t[i], e[0].style[t[i]]);\n        }\n      }, restore: function restore(e, t) {\n        var i, s;for (s = 0; t.length > s; s++) {\n          null !== t[s] && (i = e.data(o + t[s]), void 0 === i && (i = \"\"), e.css(t[s], i));\n        }\n      }, setMode: function setMode(e, t) {\n        return \"toggle\" === t && (t = e.is(\":hidden\") ? \"show\" : \"hide\"), t;\n      }, getBaseline: function getBaseline(e, t) {\n        var i, s;switch (e[0]) {case \"top\":\n            i = 0;break;case \"middle\":\n            i = .5;break;case \"bottom\":\n            i = 1;break;default:\n            i = e[0] / t.height;}switch (e[1]) {case \"left\":\n            s = 0;break;case \"center\":\n            s = .5;break;case \"right\":\n            s = 1;break;default:\n            s = e[1] / t.width;}return { x: s, y: i };\n      }, createWrapper: function createWrapper(t) {\n        if (t.parent().is(\".ui-effects-wrapper\")) return t.parent();var i = { width: t.outerWidth(!0), height: t.outerHeight(!0), \"float\": t.css(\"float\") },\n            s = e(\"<div></div>\").addClass(\"ui-effects-wrapper\").css({ fontSize: \"100%\", background: \"transparent\", border: \"none\", margin: 0, padding: 0 }),\n            n = { width: t.width(), height: t.height() },\n            a = document.activeElement;try {\n          a.id;\n        } catch (o) {\n          a = document.body;\n        }return t.wrap(s), (t[0] === a || e.contains(t[0], a)) && e(a).focus(), s = t.parent(), \"static\" === t.css(\"position\") ? (s.css({ position: \"relative\" }), t.css({ position: \"relative\" })) : (e.extend(i, { position: t.css(\"position\"), zIndex: t.css(\"z-index\") }), e.each([\"top\", \"left\", \"bottom\", \"right\"], function (e, s) {\n          i[s] = t.css(s), isNaN(parseInt(i[s], 10)) && (i[s] = \"auto\");\n        }), t.css({ position: \"relative\", top: 0, left: 0, right: \"auto\", bottom: \"auto\" })), t.css(n), s.css(i).show();\n      }, removeWrapper: function removeWrapper(t) {\n        var i = document.activeElement;return t.parent().is(\".ui-effects-wrapper\") && (t.parent().replaceWith(t), (t[0] === i || e.contains(t[0], i)) && e(i).focus()), t;\n      }, setTransition: function setTransition(t, i, s, n) {\n        return n = n || {}, e.each(i, function (e, i) {\n          var a = t.cssUnit(i);a[0] > 0 && (n[i] = a[0] * s + a[1]);\n        }), n;\n      } }), e.fn.extend({ effect: function effect() {\n        function i(t) {\n          function i() {\n            e.isFunction(a) && a.call(n[0]), e.isFunction(t) && t();\n          }var n = e(this),\n              a = s.complete,\n              r = s.mode;(n.is(\":hidden\") ? \"hide\" === r : \"show\" === r) ? (n[r](), i()) : o.call(n[0], s, i);\n        }var s = t.apply(this, arguments),\n            n = s.mode,\n            a = s.queue,\n            o = e.effects.effect[s.effect];return e.fx.off || !o ? n ? this[n](s.duration, s.complete) : this.each(function () {\n          s.complete && s.complete.call(this);\n        }) : a === !1 ? this.each(i) : this.queue(a || \"fx\", i);\n      }, show: function (e) {\n        return function (s) {\n          if (i(s)) return e.apply(this, arguments);var n = t.apply(this, arguments);return n.mode = \"show\", this.effect.call(this, n);\n        };\n      }(e.fn.show), hide: function (e) {\n        return function (s) {\n          if (i(s)) return e.apply(this, arguments);var n = t.apply(this, arguments);return n.mode = \"hide\", this.effect.call(this, n);\n        };\n      }(e.fn.hide), toggle: function (e) {\n        return function (s) {\n          if (i(s) || \"boolean\" == typeof s) return e.apply(this, arguments);var n = t.apply(this, arguments);return n.mode = \"toggle\", this.effect.call(this, n);\n        };\n      }(e.fn.toggle), cssUnit: function cssUnit(t) {\n        var i = this.css(t),\n            s = [];return e.each([\"em\", \"px\", \"%\", \"pt\"], function (e, t) {\n          i.indexOf(t) > 0 && (s = [parseFloat(i), t]);\n        }), s;\n      } });\n  }(), function () {\n    var t = {};e.each([\"Quad\", \"Cubic\", \"Quart\", \"Quint\", \"Expo\"], function (e, i) {\n      t[i] = function (t) {\n        return Math.pow(t, e + 2);\n      };\n    }), e.extend(t, { Sine: function Sine(e) {\n        return 1 - Math.cos(e * Math.PI / 2);\n      }, Circ: function Circ(e) {\n        return 1 - Math.sqrt(1 - e * e);\n      }, Elastic: function Elastic(e) {\n        return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15);\n      }, Back: function Back(e) {\n        return e * e * (3 * e - 2);\n      }, Bounce: function Bounce(e) {\n        for (var t, i = 4; ((t = Math.pow(2, --i)) - 1) / 11 > e;) {}return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2);\n      } }), e.each(t, function (t, i) {\n      e.easing[\"easeIn\" + t] = i, e.easing[\"easeOut\" + t] = function (e) {\n        return 1 - i(1 - e);\n      }, e.easing[\"easeInOut\" + t] = function (e) {\n        return .5 > e ? i(2 * e) / 2 : 1 - i(-2 * e + 2) / 2;\n      };\n    });\n  }(), e.effects, e.effects.effect.blind = function (t, i) {\n    var s,\n        n,\n        a,\n        o = e(this),\n        r = /up|down|vertical/,\n        h = /up|left|vertical|horizontal/,\n        l = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\"],\n        u = e.effects.setMode(o, t.mode || \"hide\"),\n        d = t.direction || \"up\",\n        c = r.test(d),\n        p = c ? \"height\" : \"width\",\n        f = c ? \"top\" : \"left\",\n        m = h.test(d),\n        g = {},\n        v = \"show\" === u;o.parent().is(\".ui-effects-wrapper\") ? e.effects.save(o.parent(), l) : e.effects.save(o, l), o.show(), s = e.effects.createWrapper(o).css({ overflow: \"hidden\" }), n = s[p](), a = parseFloat(s.css(f)) || 0, g[p] = v ? n : 0, m || (o.css(c ? \"bottom\" : \"right\", 0).css(c ? \"top\" : \"left\", \"auto\").css({ position: \"absolute\" }), g[f] = v ? a : n + a), v && (s.css(p, 0), m || s.css(f, a + n)), s.animate(g, { duration: t.duration, easing: t.easing, queue: !1, complete: function complete() {\n        \"hide\" === u && o.hide(), e.effects.restore(o, l), e.effects.removeWrapper(o), i();\n      } });\n  }, e.effects.effect.bounce = function (t, i) {\n    var s,\n        n,\n        a,\n        o = e(this),\n        r = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\"],\n        h = e.effects.setMode(o, t.mode || \"effect\"),\n        l = \"hide\" === h,\n        u = \"show\" === h,\n        d = t.direction || \"up\",\n        c = t.distance,\n        p = t.times || 5,\n        f = 2 * p + (u || l ? 1 : 0),\n        m = t.duration / f,\n        g = t.easing,\n        v = \"up\" === d || \"down\" === d ? \"top\" : \"left\",\n        y = \"up\" === d || \"left\" === d,\n        b = o.queue(),\n        _ = b.length;for ((u || l) && r.push(\"opacity\"), e.effects.save(o, r), o.show(), e.effects.createWrapper(o), c || (c = o[\"top\" === v ? \"outerHeight\" : \"outerWidth\"]() / 3), u && (a = { opacity: 1 }, a[v] = 0, o.css(\"opacity\", 0).css(v, y ? 2 * -c : 2 * c).animate(a, m, g)), l && (c /= Math.pow(2, p - 1)), a = {}, a[v] = 0, s = 0; p > s; s++) {\n      n = {}, n[v] = (y ? \"-=\" : \"+=\") + c, o.animate(n, m, g).animate(a, m, g), c = l ? 2 * c : c / 2;\n    }l && (n = { opacity: 0 }, n[v] = (y ? \"-=\" : \"+=\") + c, o.animate(n, m, g)), o.queue(function () {\n      l && o.hide(), e.effects.restore(o, r), e.effects.removeWrapper(o), i();\n    }), _ > 1 && b.splice.apply(b, [1, 0].concat(b.splice(_, f + 1))), o.dequeue();\n  }, e.effects.effect.clip = function (t, i) {\n    var s,\n        n,\n        a,\n        o = e(this),\n        r = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\"],\n        h = e.effects.setMode(o, t.mode || \"hide\"),\n        l = \"show\" === h,\n        u = t.direction || \"vertical\",\n        d = \"vertical\" === u,\n        c = d ? \"height\" : \"width\",\n        p = d ? \"top\" : \"left\",\n        f = {};e.effects.save(o, r), o.show(), s = e.effects.createWrapper(o).css({ overflow: \"hidden\" }), n = \"IMG\" === o[0].tagName ? s : o, a = n[c](), l && (n.css(c, 0), n.css(p, a / 2)), f[c] = l ? a : 0, f[p] = l ? 0 : a / 2, n.animate(f, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {\n        l || o.hide(), e.effects.restore(o, r), e.effects.removeWrapper(o), i();\n      } });\n  }, e.effects.effect.drop = function (t, i) {\n    var s,\n        n = e(this),\n        a = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"opacity\", \"height\", \"width\"],\n        o = e.effects.setMode(n, t.mode || \"hide\"),\n        r = \"show\" === o,\n        h = t.direction || \"left\",\n        l = \"up\" === h || \"down\" === h ? \"top\" : \"left\",\n        u = \"up\" === h || \"left\" === h ? \"pos\" : \"neg\",\n        d = { opacity: r ? 1 : 0 };e.effects.save(n, a), n.show(), e.effects.createWrapper(n), s = t.distance || n[\"top\" === l ? \"outerHeight\" : \"outerWidth\"](!0) / 2, r && n.css(\"opacity\", 0).css(l, \"pos\" === u ? -s : s), d[l] = (r ? \"pos\" === u ? \"+=\" : \"-=\" : \"pos\" === u ? \"-=\" : \"+=\") + s, n.animate(d, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {\n        \"hide\" === o && n.hide(), e.effects.restore(n, a), e.effects.removeWrapper(n), i();\n      } });\n  }, e.effects.effect.explode = function (t, i) {\n    function s() {\n      b.push(this), b.length === d * c && n();\n    }function n() {\n      p.css({ visibility: \"visible\" }), e(b).remove(), m || p.hide(), i();\n    }var a,\n        o,\n        r,\n        h,\n        l,\n        u,\n        d = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3,\n        c = d,\n        p = e(this),\n        f = e.effects.setMode(p, t.mode || \"hide\"),\n        m = \"show\" === f,\n        g = p.show().css(\"visibility\", \"hidden\").offset(),\n        v = Math.ceil(p.outerWidth() / c),\n        y = Math.ceil(p.outerHeight() / d),\n        b = [];for (a = 0; d > a; a++) {\n      for (h = g.top + a * y, u = a - (d - 1) / 2, o = 0; c > o; o++) {\n        r = g.left + o * v, l = o - (c - 1) / 2, p.clone().appendTo(\"body\").wrap(\"<div></div>\").css({ position: \"absolute\", visibility: \"visible\", left: -o * v, top: -a * y }).parent().addClass(\"ui-effects-explode\").css({ position: \"absolute\", overflow: \"hidden\", width: v, height: y, left: r + (m ? l * v : 0), top: h + (m ? u * y : 0), opacity: m ? 0 : 1 }).animate({ left: r + (m ? 0 : l * v), top: h + (m ? 0 : u * y), opacity: m ? 1 : 0 }, t.duration || 500, t.easing, s);\n      }\n    }\n  }, e.effects.effect.fade = function (t, i) {\n    var s = e(this),\n        n = e.effects.setMode(s, t.mode || \"toggle\");s.animate({ opacity: n }, { queue: !1, duration: t.duration, easing: t.easing, complete: i });\n  }, e.effects.effect.fold = function (t, i) {\n    var s,\n        n,\n        a = e(this),\n        o = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\"],\n        r = e.effects.setMode(a, t.mode || \"hide\"),\n        h = \"show\" === r,\n        l = \"hide\" === r,\n        u = t.size || 15,\n        d = /([0-9]+)%/.exec(u),\n        c = !!t.horizFirst,\n        p = h !== c,\n        f = p ? [\"width\", \"height\"] : [\"height\", \"width\"],\n        m = t.duration / 2,\n        g = {},\n        v = {};e.effects.save(a, o), a.show(), s = e.effects.createWrapper(a).css({ overflow: \"hidden\" }), n = p ? [s.width(), s.height()] : [s.height(), s.width()], d && (u = parseInt(d[1], 10) / 100 * n[l ? 0 : 1]), h && s.css(c ? { height: 0, width: u } : { height: u, width: 0 }), g[f[0]] = h ? n[0] : u, v[f[1]] = h ? n[1] : 0, s.animate(g, m, t.easing).animate(v, m, t.easing, function () {\n      l && a.hide(), e.effects.restore(a, o), e.effects.removeWrapper(a), i();\n    });\n  }, e.effects.effect.highlight = function (t, i) {\n    var s = e(this),\n        n = [\"backgroundImage\", \"backgroundColor\", \"opacity\"],\n        a = e.effects.setMode(s, t.mode || \"show\"),\n        o = { backgroundColor: s.css(\"backgroundColor\") };\"hide\" === a && (o.opacity = 0), e.effects.save(s, n), s.show().css({ backgroundImage: \"none\", backgroundColor: t.color || \"#ffff99\" }).animate(o, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {\n        \"hide\" === a && s.hide(), e.effects.restore(s, n), i();\n      } });\n  }, e.effects.effect.pulsate = function (t, i) {\n    var s,\n        n = e(this),\n        a = e.effects.setMode(n, t.mode || \"show\"),\n        o = \"show\" === a,\n        r = \"hide\" === a,\n        h = o || \"hide\" === a,\n        l = 2 * (t.times || 5) + (h ? 1 : 0),\n        u = t.duration / l,\n        d = 0,\n        c = n.queue(),\n        p = c.length;for ((o || !n.is(\":visible\")) && (n.css(\"opacity\", 0).show(), d = 1), s = 1; l > s; s++) {\n      n.animate({ opacity: d }, u, t.easing), d = 1 - d;\n    }n.animate({ opacity: d }, u, t.easing), n.queue(function () {\n      r && n.hide(), i();\n    }), p > 1 && c.splice.apply(c, [1, 0].concat(c.splice(p, l + 1))), n.dequeue();\n  }, e.effects.effect.size = function (t, i) {\n    var s,\n        n,\n        a,\n        o = e(this),\n        r = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"width\", \"height\", \"overflow\", \"opacity\"],\n        h = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"overflow\", \"opacity\"],\n        l = [\"width\", \"height\", \"overflow\"],\n        u = [\"fontSize\"],\n        d = [\"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\"],\n        c = [\"borderLeftWidth\", \"borderRightWidth\", \"paddingLeft\", \"paddingRight\"],\n        p = e.effects.setMode(o, t.mode || \"effect\"),\n        f = t.restore || \"effect\" !== p,\n        m = t.scale || \"both\",\n        g = t.origin || [\"middle\", \"center\"],\n        v = o.css(\"position\"),\n        y = f ? r : h,\n        b = { height: 0, width: 0, outerHeight: 0, outerWidth: 0 };\"show\" === p && o.show(), s = { height: o.height(), width: o.width(), outerHeight: o.outerHeight(), outerWidth: o.outerWidth() }, \"toggle\" === t.mode && \"show\" === p ? (o.from = t.to || b, o.to = t.from || s) : (o.from = t.from || (\"show\" === p ? b : s), o.to = t.to || (\"hide\" === p ? b : s)), a = { from: { y: o.from.height / s.height, x: o.from.width / s.width }, to: { y: o.to.height / s.height, x: o.to.width / s.width } }, (\"box\" === m || \"both\" === m) && (a.from.y !== a.to.y && (y = y.concat(d), o.from = e.effects.setTransition(o, d, a.from.y, o.from), o.to = e.effects.setTransition(o, d, a.to.y, o.to)), a.from.x !== a.to.x && (y = y.concat(c), o.from = e.effects.setTransition(o, c, a.from.x, o.from), o.to = e.effects.setTransition(o, c, a.to.x, o.to))), (\"content\" === m || \"both\" === m) && a.from.y !== a.to.y && (y = y.concat(u).concat(l), o.from = e.effects.setTransition(o, u, a.from.y, o.from), o.to = e.effects.setTransition(o, u, a.to.y, o.to)), e.effects.save(o, y), o.show(), e.effects.createWrapper(o), o.css(\"overflow\", \"hidden\").css(o.from), g && (n = e.effects.getBaseline(g, s), o.from.top = (s.outerHeight - o.outerHeight()) * n.y, o.from.left = (s.outerWidth - o.outerWidth()) * n.x, o.to.top = (s.outerHeight - o.to.outerHeight) * n.y, o.to.left = (s.outerWidth - o.to.outerWidth) * n.x), o.css(o.from), (\"content\" === m || \"both\" === m) && (d = d.concat([\"marginTop\", \"marginBottom\"]).concat(u), c = c.concat([\"marginLeft\", \"marginRight\"]), l = r.concat(d).concat(c), o.find(\"*[width]\").each(function () {\n      var i = e(this),\n          s = { height: i.height(), width: i.width(), outerHeight: i.outerHeight(), outerWidth: i.outerWidth() };f && e.effects.save(i, l), i.from = { height: s.height * a.from.y, width: s.width * a.from.x, outerHeight: s.outerHeight * a.from.y, outerWidth: s.outerWidth * a.from.x }, i.to = { height: s.height * a.to.y, width: s.width * a.to.x, outerHeight: s.height * a.to.y, outerWidth: s.width * a.to.x }, a.from.y !== a.to.y && (i.from = e.effects.setTransition(i, d, a.from.y, i.from), i.to = e.effects.setTransition(i, d, a.to.y, i.to)), a.from.x !== a.to.x && (i.from = e.effects.setTransition(i, c, a.from.x, i.from), i.to = e.effects.setTransition(i, c, a.to.x, i.to)), i.css(i.from), i.animate(i.to, t.duration, t.easing, function () {\n        f && e.effects.restore(i, l);\n      });\n    })), o.animate(o.to, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {\n        0 === o.to.opacity && o.css(\"opacity\", o.from.opacity), \"hide\" === p && o.hide(), e.effects.restore(o, y), f || (\"static\" === v ? o.css({ position: \"relative\", top: o.to.top, left: o.to.left }) : e.each([\"top\", \"left\"], function (e, t) {\n          o.css(t, function (t, i) {\n            var s = parseInt(i, 10),\n                n = e ? o.to.left : o.to.top;return \"auto\" === i ? n + \"px\" : s + n + \"px\";\n          });\n        })), e.effects.removeWrapper(o), i();\n      } });\n  }, e.effects.effect.scale = function (t, i) {\n    var s = e(this),\n        n = e.extend(!0, {}, t),\n        a = e.effects.setMode(s, t.mode || \"effect\"),\n        o = parseInt(t.percent, 10) || (0 === parseInt(t.percent, 10) ? 0 : \"hide\" === a ? 0 : 100),\n        r = t.direction || \"both\",\n        h = t.origin,\n        l = { height: s.height(), width: s.width(), outerHeight: s.outerHeight(), outerWidth: s.outerWidth() },\n        u = { y: \"horizontal\" !== r ? o / 100 : 1, x: \"vertical\" !== r ? o / 100 : 1 };n.effect = \"size\", n.queue = !1, n.complete = i, \"effect\" !== a && (n.origin = h || [\"middle\", \"center\"], n.restore = !0), n.from = t.from || (\"show\" === a ? { height: 0, width: 0, outerHeight: 0, outerWidth: 0 } : l), n.to = { height: l.height * u.y, width: l.width * u.x, outerHeight: l.outerHeight * u.y, outerWidth: l.outerWidth * u.x }, n.fade && (\"show\" === a && (n.from.opacity = 0, n.to.opacity = 1), \"hide\" === a && (n.from.opacity = 1, n.to.opacity = 0)), s.effect(n);\n  }, e.effects.effect.shake = function (t, i) {\n    var s,\n        n = e(this),\n        a = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"height\", \"width\"],\n        o = e.effects.setMode(n, t.mode || \"effect\"),\n        r = t.direction || \"left\",\n        h = t.distance || 20,\n        l = t.times || 3,\n        u = 2 * l + 1,\n        d = Math.round(t.duration / u),\n        c = \"up\" === r || \"down\" === r ? \"top\" : \"left\",\n        p = \"up\" === r || \"left\" === r,\n        f = {},\n        m = {},\n        g = {},\n        v = n.queue(),\n        y = v.length;for (e.effects.save(n, a), n.show(), e.effects.createWrapper(n), f[c] = (p ? \"-=\" : \"+=\") + h, m[c] = (p ? \"+=\" : \"-=\") + 2 * h, g[c] = (p ? \"-=\" : \"+=\") + 2 * h, n.animate(f, d, t.easing), s = 1; l > s; s++) {\n      n.animate(m, d, t.easing).animate(g, d, t.easing);\n    }n.animate(m, d, t.easing).animate(f, d / 2, t.easing).queue(function () {\n      \"hide\" === o && n.hide(), e.effects.restore(n, a), e.effects.removeWrapper(n), i();\n    }), y > 1 && v.splice.apply(v, [1, 0].concat(v.splice(y, u + 1))), n.dequeue();\n  }, e.effects.effect.slide = function (t, i) {\n    var s,\n        n = e(this),\n        a = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"width\", \"height\"],\n        o = e.effects.setMode(n, t.mode || \"show\"),\n        r = \"show\" === o,\n        h = t.direction || \"left\",\n        l = \"up\" === h || \"down\" === h ? \"top\" : \"left\",\n        u = \"up\" === h || \"left\" === h,\n        d = {};e.effects.save(n, a), n.show(), s = t.distance || n[\"top\" === l ? \"outerHeight\" : \"outerWidth\"](!0), e.effects.createWrapper(n).css({ overflow: \"hidden\" }), r && n.css(l, u ? isNaN(s) ? \"-\" + s : -s : s), d[l] = (r ? u ? \"+=\" : \"-=\" : u ? \"-=\" : \"+=\") + s, n.animate(d, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {\n        \"hide\" === o && n.hide(), e.effects.restore(n, a), e.effects.removeWrapper(n), i();\n      } });\n  };\n});\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nvar _index = require('../../index.js');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Created by lucas on 11/2/2016.\r\n */\n\nvar explorer = new _index2.default(600, 400);\n//enable debug (will show some warns if something get wrong)\nexplorer.debugMode = true;\n//let the user select multiple files (default: false)\nexplorer.multiSelect = true;\n\n/*\r\nI am sure you'll get it.\r\nexplorer.CONTEXT_MENU_OPTIONS.DELETE_ALL = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.MOVE_ALL = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.UPLOAD_ALL = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.SHARE_ALL = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.DOWNLOAD_ALL = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.DELETE = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.MOVE = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.UPLOAD = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.SHARE = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.DOWNLOAD = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.RENAME = explorer.HIDDEN;\r\nexplorer.CONTEXT_MENU_OPTIONS.NEW_FOLDER = explorer.HIDDEN;*/\nexplorer.CONTEXT_MENU_OPTIONS.OPEN = explorer.DISABLED;\n//Since we did not set our container (div), run createExplorer to create an element where Explorer will put its stuff.\nexplorer.createExplorer();\n//Overrides default dbclick behavior\nexplorer.dbclick = function (file) {\n    if (file.ext !== \"dir\") {\n        explorer.share(file);\n    } else {\n        explorer.open(file);\n    }\n};\n//Add some files (you can do whenever you want)\nexplorer.addFiles(new _index.File(1, \"Resumé\", \"ps\"));\nexplorer.addFiles(new _index.File(2, \"Folder\", \"dir\"));\nexplorer.addFiles(new _index.File(4, \"Picture\", \"pic\", 3));\nexplorer.addFiles(new _index.File(5, \"Sorry\", \"mp3\", 3));\nexplorer.addFiles(new _index.File(6, \"HW\", \"docx\", 3));\nexplorer.addFiles(new _index.File(3, \"Music\", \"dir\"));\nexplorer.setIconsBackgroundColor(\"#1A9ADA\");\n//Explorer's div border\nexplorer.border = \"5px dashed gray\";\n/*\r\nOverrides default behavior\r\nexplorer.upload = function (){console.info(\"upload\")};\r\nexplorer.open = function (file){console.info(\"open \"+file.name)};\r\nexplorer.newFolder = function (){console.info(\"newFolder\")};\r\nexplorer.share = function (file){console.info(\"share \"+file.name)};\r\nexplorer.rename = function (file){console.info(\"rename \"+file.name)};\r\nexplorer.download = function (file){console.info(\"download \"+file.name)};\r\nexplorer.delete = function (file){console.info(\"delete \"+file.name)};\r\nexplorer.move = function (file){console.info(\"move \"+file.name)};*/\n//Add a context menu custom option\nexplorer.customMenuOption = function (file) {\n    return explorer.buildCustomMenuOption(\"Office\", openOffice, { title: \"Office\", disabled: false });\n};\n//create a function to run when the context menu option is clicked\nfunction openOffice() {\n    explorer.createBaseDialog(window.innerWidth * .85, \"auto\", { \"min-width\": 300, \"min-height\": 300, \"style\": true });\n    //explorer.loadBaseDialog(\"<p class='gray bold txtcenter ft14'> \"+explorer.TEMP_VAR.name+\" </p><center><iframe src='https://docs.google.com/gview?url=\"+APP_URL+\"/download/\"+explorer.TEMP_VAR.id+\"?officeAccessKey=\"+data.key+\"' style='width:\"+window.innerWidth * 0.8+\"px; height:\"+window.innerHeight * 0.7+\"px; border: 1px solid gray;'> </iframe></center>\");\n    explorer.loadBaseDialog(\"<p class='gray bold txtcenter ft14'> Titulo </p><center><iframe src='https://docs.google.com/gview?url=http://infolab.stanford.edu/pub/papers/google.pdf&embedded=true' style='width:\" + window.innerWidth * 0.7 + \"px; height:\" + window.innerHeight * 0.7 + \"px; border: 1px solid gray;'> </iframe></center>\");\n    explorer.showBaseDialog();\n}\n//starts Explorer\nexplorer.start();\n\n},{\"../../index.js\":1}]},{},[6]);\n"],"file":"explorer.js"}